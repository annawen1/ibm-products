"use strict";(self.webpackChunk_carbon_ibm_cloud_cognitive_core=self.webpackChunk_carbon_ibm_cloud_cognitive_core||[]).push([[2136],{"../ibm-products/src/components/Datagrid/Extensions/EditableCell/EditableCell.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{EditableCellUsageStory:()=>EditableCellUsageStory,InlineEditUsageStory:()=>InlineEditUsageStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>EditableCell_stories});var react=__webpack_require__("../../node_modules/react/index.js"),bucket_5=__webpack_require__("../../node_modules/@carbon/icons-react/es/generated/bucket-5.js"),bucket_16=__webpack_require__("../../node_modules/@carbon/icons-react/es/generated/bucket-16.js"),dist=__webpack_require__("../../node_modules/@storybook/addon-actions/dist/index.mjs"),Datagrid=__webpack_require__("../ibm-products/src/components/Datagrid/Datagrid/Datagrid.js"),useDatagrid=__webpack_require__("../ibm-products/src/components/Datagrid/useDatagrid.js"),settings=__webpack_require__("../ibm-products/src/settings.js"),classnames=__webpack_require__("../../node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),es=__webpack_require__("../../node_modules/@carbon/react/es/index.js"),bucket_1=__webpack_require__("../../node_modules/@carbon/icons-react/es/generated/bucket-1.js"),bucket_2=__webpack_require__("../../node_modules/@carbon/icons-react/es/generated/bucket-2.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var blockClass="".concat(settings.K.prefix,"--datagrid"),InlineEditButton=function InlineEditButton(_ref){var label=_ref.label,Icon=_ref.renderIcon,disabled=_ref.disabled,LabelIcon=_ref.labelIcon,placeholder=_ref.placeholder,nonEditCell=_ref.nonEditCell,isActiveCell=_ref.isActiveCell,columnConfig=_ref.columnConfig,type=_ref.type;return(0,jsx_runtime.jsxs)("div",{className:classnames_default()("".concat(blockClass,"__inline-edit-button"),_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({},"".concat(blockClass,"__inline-edit-button--disabled"),disabled||nonEditCell),"".concat(blockClass,"__inline-edit-button--with-label-icon"),LabelIcon),"".concat(blockClass,"__inline-edit-button--non-edit"),nonEditCell),"".concat(blockClass,"__inline-edit-button--active"),isActiveCell),"".concat(blockClass,"__inline-edit-button--").concat(type),"date"===type||"selection"===type)),tabIndex:isActiveCell?0:-1,"data-disabled":disabled||nonEditCell,"aria-disabled":disabled||nonEditCell,role:"button",title:label,children:[LabelIcon&&(0,jsx_runtime.jsx)("div",{className:"".concat(blockClass,"__label-icon"),children:(0,jsx_runtime.jsx)(LabelIcon,{})}),""!==label?(0,jsx_runtime.jsx)("span",{className:classnames_default()("".concat(blockClass,"__inline-edit-button-label"),_defineProperty(_defineProperty({},"".concat(blockClass,"__inline-edit-button-label-with-icon"),!nonEditCell),"".concat(blockClass,"__defaultStringRenderer--multiline"),null==columnConfig?void 0:columnConfig.multiLineWrap)),children:label}):(0,jsx_runtime.jsx)("span",{className:"".concat(blockClass,"__placeholder"),children:placeholder}),!nonEditCell&&Icon&&(0,jsx_runtime.jsx)("div",{className:"".concat(blockClass,"__inline-edit-button-icon"),children:(0,jsx_runtime.jsx)(Icon,{})})]})};InlineEditButton.displayName="InlineEditButton",InlineEditButton.propTypes={columnConfig:prop_types_default().object,disabled:prop_types_default().bool,isActiveCell:prop_types_default().bool,label:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().number]),labelIcon:prop_types_default().oneOfType([prop_types_default().func,prop_types_default().object]),nonEditCell:prop_types_default().bool,placeholder:prop_types_default().string,renderIcon:prop_types_default().oneOfType([prop_types_default().func,prop_types_default().object]),type:prop_types_default().oneOf(["text","number","selection","date"]),value:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().node])},InlineEditButton.__docgenInfo={description:"",methods:[],displayName:"InlineEditButton",props:{columnConfig:{description:"",type:{name:"object"},required:!1},disabled:{description:"",type:{name:"bool"},required:!1},isActiveCell:{description:"",type:{name:"bool"},required:!1},label:{description:"",type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!1},labelIcon:{description:"",type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!1},nonEditCell:{description:"",type:{name:"bool"},required:!1},placeholder:{description:"",type:{name:"string"},required:!1},renderIcon:{description:"",type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!1},type:{description:"",type:{name:"enum",value:[{value:"'text'",computed:!1},{value:"'number'",computed:!1},{value:"'selection'",computed:!1},{value:"'date'",computed:!1}]},required:!1},value:{description:"",type:{name:"union",value:[{name:"string"},{name:"node"}]},required:!1}}};var InlineEditContext=__webpack_require__("../ibm-products/src/components/Datagrid/Datagrid/addons/InlineEdit/InlineEditContext/InlineEditContext.js"),usePreviousValue=__webpack_require__("../ibm-products/src/global/js/hooks/usePreviousValue.js"),props_helper=__webpack_require__("../ibm-products/src/global/js/utils/props-helper.js");function InlineEditCell_typeof(o){return InlineEditCell_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},InlineEditCell_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){InlineEditCell_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function InlineEditCell_defineProperty(obj,key,value){return(key=function InlineEditCell_toPropertyKey(arg){var key=function InlineEditCell_toPrimitive(input,hint){if("object"!==InlineEditCell_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==InlineEditCell_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===InlineEditCell_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var InlineEditCell_blockClass="".concat(settings.K.prefix,"--datagrid"),InlineEditCell=function InlineEditCell(_ref){var _config$validator,_value$text,saveCellData,cell=_ref.cell,config=_ref.config,instance=_ref.instance,_ref$placeholder=_ref.placeholder,placeholder=void 0===_ref$placeholder?"":_ref$placeholder,tabIndex=_ref.tabIndex,value=_ref.value,_ref$nonEditCell=_ref.nonEditCell,nonEditCell=void 0!==_ref$nonEditCell&&_ref$nonEditCell,type=_ref.type,columnId=cell.column.id,columnIndex=instance.columns.findIndex((function(col){return col.id===columnId})),cellId="column-".concat(columnIndex,"-row-").concat(cell.row.index),_useContext=(0,react.useContext)(InlineEditContext.V),state=_useContext.state,dispatch=_useContext.dispatch,_useState2=_slicedToArray((0,react.useState)(!1),2),inEditMode=_useState2[0],setInEditMode=_useState2[1],_useState4=_slicedToArray((0,react.useState)(value),2),cellValue=_useState4[0],setCellValue=_useState4[1],_useState6=_slicedToArray((0,react.useState)(),2),initialValue=_useState6[0],setInitialValue=_useState6[1],_useState8=_slicedToArray((0,react.useState)(),2),cellLabel=_useState8[0],setCellLabel=_useState8[1],activeCellId=state.activeCellId,editId=state.editId,previousState=(0,usePreviousValue.z)({editId,activeCellId}),inputProps=(config||{}).inputProps,textInputRef=(0,react.useRef)(),numberInputRef=(0,react.useRef)(),dropdownRef=(0,react.useRef)(),datePickerRef=(0,react.useRef)(),outerButtonElement=(0,react.useRef)(),rowSize=instance.rowSize,onDataUpdate=instance.onDataUpdate;(0,react.useEffect)((function(){setInitialValue(value);var columnId=cell.column.id,columnLabel=instance.columns.find((function(item){return item.id===columnId}));setCellLabel("string"==typeof columnLabel.Header?columnLabel.Header:"Inline edit cell label")}),[]),(0,react.useEffect)((function(){if((null==previousState?void 0:previousState.editId)===cellId&&!editId||(null==previousState?void 0:previousState.editId)===cellId&&cellId!==editId){var validator=(config||{}).validator;if(null==validator?void 0:validator(cellValue))return setCellValue(initialValue),void saveCellData(initialValue)}}),[null==previousState?void 0:previousState.editId,editId,cellId,cellValue,config,initialValue,saveCellData]),(0,react.useEffect)((function(){activeCellId===cellId&&editId||setInEditMode(!1),activeCellId!==cellId||editId!==cellId||nonEditCell||(setInEditMode(!0),saveCellData(cellValue))}),[activeCellId,cellId,nonEditCell,editId,cellValue,saveCellData]);(0,react.useEffect)((function(){(null==previousState?void 0:previousState.editId)===cellId&&(null==previousState?void 0:previousState.activeCellId)===cellId&&activeCellId!==cellId&&setInitialValue(cellValue)}),[previousState,cellId,cellValue,activeCellId]);(0,react.useEffect)((function(){var _dropdownRef$current;inEditMode&&("text"===type&&textInputRef.current.focus(),"number"===type&&numberInputRef.current.focus(),"selection"===type&&(null==dropdownRef||null===(_dropdownRef$current=dropdownRef.current)||void 0===_dropdownRef$current||_dropdownRef$current.focus()))}),[inEditMode,type]),saveCellData=(0,react.useCallback)((function(newValue){var columnId=cell.column.id,rowIndex=cell.row.index;onDataUpdate((function(prev){return prev.map((function(row,index){return index===rowIndex?_objectSpread(_objectSpread({},prev[rowIndex]),{},InlineEditCell_defineProperty({},columnId,newValue)):row}))}))}),[cell,onDataUpdate]),(0,react.useEffect)((function(){setCellValue(value)}),[value]);var sendFocusBackToGrid=function sendFocusBackToGrid(){document.querySelector("#".concat(instance.tableId," .").concat(InlineEditCell_blockClass,"__table-with-inline-edit")).focus()},getNewCellId=function getNewCellId(key){var totalRows=instance.rows.length;return"Enter"===key?"column-".concat(columnIndex,"-row-").concat(cell.row.index<totalRows-1?cell.row.index+1:cell.row.index):"column-".concat(columnIndex<instance.columns.length-1?columnIndex+1:columnIndex,"-row-").concat(cell.row.index)},handleTransformedItem=function handleTransformedItem(items){return null!=items&&items.length&&"object"===InlineEditCell_typeof(items[0])?function(item){return function renderDropdownItem(item){return null!=item&&item.icon?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[react.createElement(item.icon),(0,jsx_runtime.jsx)("span",{className:classnames_default()("".concat(InlineEditCell_blockClass,"__inline-edit--select-item")),children:null==item?void 0:item.text})]}):null==item?void 0:item.text}(item)}:null},padTo2Digits=function padTo2Digits(num){return num.toString().padStart(2,"0")};return(0,jsx_runtime.jsxs)("div",{ref:outerButtonElement,"data-cell-id":cellId,"data-column-index":columnIndex,"data-row-index":cell.row.index,"data-disabled":nonEditCell,"data-inline-type":type,onClick:nonEditCell?function addActiveState(){dispatch({type:"UPDATE_ACTIVE_CELL_ID",payload:cellId})}:function handleInlineCellClick(){inEditMode||(dispatch({type:"ENTER_EDIT_MODE",payload:{activeCellId:cellId,editId:cellId}}),setInEditMode(!0),setTimeout((function(){"selection"!==type&&"date"!==type||function openDropdown(type){var datePickerInputElement=document.querySelector("#".concat(InlineEditCell_blockClass,"__inline-edit--date-picker--").concat(cell.row.index)),dropdownTrigger="selection"===type?null==dropdownRef?void 0:dropdownRef.current:datePickerInputElement;dropdownTrigger.click(),"date"===type&&(null==dropdownTrigger||dropdownTrigger.focus())}(type)}),1))},onKeyDown:nonEditCell?null:function handleKeyDown(event){var key=event.key;switch(key){case"Tab":case"Enter":if(inEditMode){if("selection"===type||"date"===type)return;var validator=(config||{}).validator;if(null==validator?void 0:validator(cellValue))return;var newCellId=getNewCellId(key);saveCellData(cellValue),setInitialValue(cellValue),dispatch({type:"EXIT_EDIT_MODE",payload:newCellId}),setInEditMode(!1),sendFocusBackToGrid()}break;case"Escape":inEditMode&&(dispatch({type:"EXIT_EDIT_MODE",payload:cellId}),setCellValue(initialValue),saveCellData(initialValue),setInEditMode(!1),sendFocusBackToGrid());break;default:return}},className:classnames_default()("".concat(InlineEditCell_blockClass,"__inline-edit--outer-cell-button"),InlineEditCell_defineProperty(InlineEditCell_defineProperty(InlineEditCell_defineProperty({},"".concat(InlineEditCell_blockClass,"__inline-edit--outer-cell-button--").concat(rowSize),rowSize),"".concat(InlineEditCell_blockClass,"__inline-edit--outer-cell-button--lg"),!rowSize),"".concat(InlineEditCell_blockClass,"__inline-edit--outer-cell-button--invalid"),null==config||null===(_config$validator=config.validator)||void 0===_config$validator?void 0:_config$validator.call(config,cellValue))),children:[!inEditMode&&(0,jsx_runtime.jsx)(InlineEditButton,{isActiveCell:cellId===activeCellId,renderIcon:function setRenderIcon(){return"text"===type?bucket_5.I8:"number"===type?bucket_1.B8:"selection"===type?bucket_2._M:"date"===type?bucket_1.f:void 0}(),label:"selection"===type?null!==(_value$text=null==value?void 0:value.text)&&void 0!==_value$text?_value$text:value:"date"===type?function buildDate(value){var _config$inputProps2,dateFormat=null==config||null===(_config$inputProps2=config.inputProps)||void 0===_config$inputProps2?void 0:_config$inputProps2.dateFormat;if(!(value instanceof Date))return value;var maskedFullYear=value.getFullYear(),maskedMonth=padTo2Digits(value.getMonth()+1),maskedDay=padTo2Digits(value.getDate());return"m/d/Y"===dateFormat||"m/d/y"===value?[maskedMonth,maskedDay,maskedFullYear].join("/"):"d/m/Y"===dateFormat||"d/m/y"===dateFormat||void 0===dateFormat?[maskedDay,maskedMonth,maskedFullYear].join("/"):null}(value):value,labelIcon:(null==value?void 0:value.icon)||null,placeholder,tabIndex,nonEditCell,columnConfig:cell.column,type}),!nonEditCell&&inEditMode&&cellId===activeCellId&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["text"===type&&function renderTextInput(){var validator=(config||{}).validator,isInvalid=null==validator?void 0:validator(cellValue);return(0,jsx_runtime.jsx)(es.oil,_objectSpread(_objectSpread({labelText:cellLabel,placeholder},inputProps),{},{id:cellId,hideLabel:!0,defaultValue:cellValue,invalid:isInvalid,invalidText:(null==inputProps?void 0:inputProps.invalidText)||"Provide missing invalidText",onChange:function onChange(event){setCellValue(event.target.value),inputProps.onChange&&inputProps.onChange(event.target.value)},ref:textInputRef}))}(),"number"===type&&function renderNumberInput(){var validator=(config||{}).validator;return(0,jsx_runtime.jsx)(es.Y2U,_objectSpread(_objectSpread({placeholder,label:cellLabel},inputProps),{},{id:cellId,hideLabel:!0,defaultValue:cellValue,invalid:null==validator?void 0:validator(cellValue),invalidText:(null==inputProps?void 0:inputProps.invalidText)||"Provide missing invalidText",onChange:function onChange(event,_ref8){var value=_ref8.value;setCellValue(value),inputProps.onChange&&inputProps.onChange(value)},ref:numberInputRef}))}(),"selection"===type&&function renderSelectCell(){var inputProps=(config||{}).inputProps;return(0,jsx_runtime.jsx)(es.Ltx,_objectSpread(_objectSpread({id:cellId,label:cellLabel||"Dropdown menu options",ariaLabel:cellLabel||"Dropdown menu options"},inputProps),{},{hideLabel:!0,style:{width:cell.column.totalWidth},className:classnames_default()("".concat(InlineEditCell_blockClass,"__inline-edit--select"),InlineEditCell_defineProperty({},"".concat(InlineEditCell_blockClass,"__inline-edit--select-").concat(rowSize),rowSize)),items:(null==inputProps?void 0:inputProps.items)||[],initialSelectedItem:cell.value,itemToElement:handleTransformedItem(null==inputProps?void 0:inputProps.items),renderSelectedItem:handleTransformedItem(null==inputProps?void 0:inputProps.items),onChange:function onChange(item){var _inputProps$onChange,newCellId=getNewCellId("Enter");saveCellData(item.selectedItem),setCellValue(item.selectedItem),dispatch({type:"EXIT_EDIT_MODE",payload:newCellId}),setInEditMode(!1),sendFocusBackToGrid(),null==inputProps||null===(_inputProps$onChange=inputProps.onChange)||void 0===_inputProps$onChange||_inputProps$onChange.call(inputProps,item.selectedItem)},downshiftProps:{onStateChange:function onStateChange(downshiftState){!1===(downshiftState||{}).isOpen&&(dispatch({type:"EXIT_EDIT_MODE",payload:cellId}),setInEditMode(!1),sendFocusBackToGrid())}},ref:dropdownRef}))}(),"date"===type&&function renderDateCell(){var _config$inputProps,_outerButtonElement$c,datePickerPreparedProps=(0,props_helper.eG)(config.inputProps,["datePickerInputProps"]),datePickerInputProps=null==config||null===(_config$inputProps=config.inputProps)||void 0===_config$inputProps?void 0:_config$inputProps.datePickerInputProps;return(0,jsx_runtime.jsx)(es.Mtg,_objectSpread(_objectSpread({},datePickerPreparedProps),{},{appendTo:null==outerButtonElement||null===(_outerButtonElement$c=outerButtonElement.current)||void 0===_outerButtonElement$c?void 0:_outerButtonElement$c.parentElement,ref:datePickerRef,style:{width:cell.column.totalWidth},datePickerType:"single",className:classnames_default()("".concat(InlineEditCell_blockClass,"__inline-edit--date"),InlineEditCell_defineProperty({},"".concat(InlineEditCell_blockClass,"__inline-edit--date-").concat(rowSize),rowSize)),onChange:function onChange(newDate){var _datePickerPreparedPr,newDateObj=newDate[0];null==datePickerPreparedProps||null===(_datePickerPreparedPr=datePickerPreparedProps.onChange)||void 0===_datePickerPreparedPr||_datePickerPreparedPr.call(datePickerPreparedProps,newDateObj,cell);var newCellId=getNewCellId("Enter");saveCellData(newDateObj),setCellValue(newDateObj),setTimeout((function(){setInEditMode(!1),sendFocusBackToGrid(),dispatch({type:"EXIT_EDIT_MODE",payload:newCellId})}),1)},value:cell.value,children:(0,jsx_runtime.jsx)(es.aj6,_objectSpread(_objectSpread({},datePickerInputProps),{},{style:{position:"static"},placeholder:(null==datePickerInputProps?void 0:datePickerInputProps.placeholder)||"mm/dd/yyyy",labelText:(null==datePickerInputProps?void 0:datePickerInputProps.labelText)||cellLabel||"Set date",id:"".concat(InlineEditCell_blockClass,"__inline-edit--date-picker--").concat(cell.row.index),hideLabel:!0}))}))}()]})]})};function useInlineEdit_typeof(o){return useInlineEdit_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},useInlineEdit_typeof(o)}function useInlineEdit_defineProperty(obj,key,value){return(key=function useInlineEdit_toPropertyKey(arg){var key=function useInlineEdit_toPrimitive(input,hint){if("object"!==useInlineEdit_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==useInlineEdit_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===useInlineEdit_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}InlineEditCell.displayName="InlineEditCell",InlineEditCell.propTypes={cell:prop_types_default().object,config:prop_types_default().object,instance:prop_types_default().shape({columns:prop_types_default().arrayOf(prop_types_default().object),onDataUpdate:prop_types_default().func,rows:prop_types_default().arrayOf(prop_types_default().object),rowSize:prop_types_default().string,tableId:prop_types_default().string}),nonEditCell:prop_types_default().bool,placeholder:prop_types_default().string,tabIndex:prop_types_default().number,type:prop_types_default().oneOf(["text","number","selection","date"]),value:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().node,prop_types_default().object])},InlineEditCell.__docgenInfo={description:"",methods:[],displayName:"InlineEditCell",props:{placeholder:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},nonEditCell:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},cell:{description:"",type:{name:"object"},required:!1},config:{description:"",type:{name:"object"},required:!1},instance:{description:"",type:{name:"shape",value:{columns:{name:"arrayOf",value:{name:"object"},required:!1},onDataUpdate:{name:"func",required:!1},rows:{name:"arrayOf",value:{name:"object"},required:!1},rowSize:{name:"string",required:!1},tableId:{name:"string",required:!1}}},required:!1},tabIndex:{description:"",type:{name:"number"},required:!1},type:{description:"",type:{name:"enum",value:[{value:"'text'",computed:!1},{value:"'number'",computed:!1},{value:"'selection'",computed:!1},{value:"'date'",computed:!1}]},required:!1},value:{description:"",type:{name:"union",value:[{name:"string"},{name:"node"},{name:"object"}]},required:!1}}};var useInlineEdit_blockClass="".concat(settings.K.prefix,"--datagrid");const Datagrid_useInlineEdit=function useInlineEdit(hooks,usingEditableCell){(0,react.useEffect)((function(){usingEditableCell||settings.K.checkReportFeatureEnabled("Datagrid.useInlineEdit"),usingEditableCell&&settings.K.checkReportFeatureEnabled("Datagrid.useEditableCell")}),[usingEditableCell]);hooks.getCellProps.push((function addInlineEdit(props,_ref){var _cell$column,cell=_ref.cell,instance=_ref.instance,columnInlineEditConfig=cell.column.inlineEdit,inlineEditType=null===(_cell$column=cell.column)||void 0===_cell$column||null===(_cell$column=_cell$column.inlineEdit)||void 0===_cell$column?void 0:_cell$column.type,renderInlineEditComponent=function renderInlineEditComponent(type){return(0,jsx_runtime.jsx)(InlineEditCell,{config:columnInlineEditConfig,tabIndex:-1,value:cell.value,cell,instance,type})};return"spacer"===cell.column.id?[props,{className:classnames_default()("".concat(useInlineEdit_blockClass,"__cell"),"".concat(useInlineEdit_blockClass,"__cell--spacer"))}]:[props,{className:classnames_default()("".concat(useInlineEdit_blockClass,"__cell"),useInlineEdit_defineProperty({},"".concat(useInlineEdit_blockClass,"__cell-inline-edit"),!(!usingEditableCell&&!settings.K.isFeatureEnabled("Datagrid.useInlineEdit"))||"")),role:"gridcell",children:(!!usingEditableCell||settings.K.isFeatureEnabled("Datagrid.useInlineEdit"))&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["text"===inlineEditType&&renderInlineEditComponent(inlineEditType),"number"===inlineEditType&&renderInlineEditComponent(inlineEditType),"selection"===inlineEditType&&renderInlineEditComponent(inlineEditType),"date"===inlineEditType&&renderInlineEditComponent(inlineEditType),!inlineEditType&&(0,jsx_runtime.jsx)(InlineEditCell,{config:columnInlineEditConfig,tabIndex:-1,value:cell.value,cell,instance,disabled:!0,nonEditCell:!0,type:"text"})]})}]})),hooks.useInstance.push((function(instance){Object.assign(instance,{withInlineEdit:!(!usingEditableCell&&!settings.K.isFeatureEnabled("Datagrid.useInlineEdit"))})}))};const Datagrid_useEditableCell=function useEditableCell(hooks){Datagrid_useInlineEdit(hooks,"usingEditableCell")};var _storybook_styles=__webpack_require__("../ibm-products/src/components/Datagrid/_storybook-styles.scss"),StoryDocsPage=__webpack_require__("../ibm-products/src/global/js/utils/StoryDocsPage.js"),DocsPage=function DocsPage(){return(0,jsx_runtime.jsx)(StoryDocsPage.r,{blocks:[{description:"The `Datagrid` supports inline editing when used with the `useEditableCell` hook (previously named `useInlineEdit` in v1) and columns are provided the required configuration. The four data types supported are strings, numbers, dates, and\n        selection (dropdown)."},{description:"Below are example column configurations for the supported inline edit data types:\n        \nDefault/string:\n        ",source:{language:"json",code:"\n  {\n    Header: 'First Name',\n    accessor: 'firstName',\n    inlineEdit: {\n      type: 'text',\n      // required for including validation, this is used to set the invalid prop internally\n      validator: (n) => n.length >= 40,\n      // These props are passed to the Carbon component used for inline editing, in this case the TextInput\n      inputProps: {\n        invalidText: 'Invalid text, character count must be less than 40',\n      },\n    },\n  }\n          "}},{description:"Number",source:{language:"json",code:"\n{\n  Header: 'Age',\n  accessor: 'age',\n  width: 120,\n  inlineEdit: {\n    // required for including validation, this is used to set the invalid prop internally\n    validator: (n) => n && n < 18,\n    type: 'number',\n    // These props are passed to the Carbon component used for inline editing, in this case NumberInput\n    inputProps: {\n      invalidText: 'Invalid number, must be 18 or greater',\n    },\n  },\n},\n          "}},{description:"Date",source:{language:"json",code:"\n{\n  Header: 'Active since',\n  accessor: 'activeSince',\n  inlineEdit: {\n    type: 'date',\n    inputProps: {\n      // optionally pass props here to be passed through to Carbon's DatePicker component\n      onChange: (newDateObj, cell) => {\n        console.log(newDateObj, cell);\n      },\n      labelText: 'Change active since date',\n      // optionally pass props here to be passed through to Carbon's DatePickerInput component\n      datePickerInputProps: {\n        labelText: 'Change active since date',\n      },\n    },\n  },\n},\n          "}},{description:"Selection",source:{language:"json",code:"\n{\n  Header: 'Chart type',\n  accessor: 'chartType',\n  inlineEdit: {\n    type: 'selection',\n    inputProps: {\n      // These props are passed to the Carbon component used for inline editing\n      items: [\n        {\n          id: 'option-0',\n          icon: ChartColumnFloating16,\n          text: 'Column Chart',\n        },\n        {\n          id: 'option-1',\n          icon: ChartBubble16,\n          text: 'Bubble Chart',\n        },\n        {\n          id: 'option-2',\n          icon: ChartVennDiagram16,\n          text: 'Venn Diagram',\n        },\n      ],\n      onChange: (item) => {\n        console.log(item);\n      },\n    },\n  },\n},\n          "}},{description:"Using the column structure outlined above, along with the use of the `useEditableCell` hook (previously named `useInlineEdit` in v1), the `Datagrid` will support inline editing. See example below:",source:{code:"\nimport { Datagrid, useDatagrid, useEditableCell } from '@carbon/ibm-products';\nconst App = () => {\n  const [data, setData] = useState(makeData(10));\n  const columns = React.useMemo(() => getInlineEditColumns(), []); // These columns follow the inline edit column configuration detailed above\n  const datagridState = useDatagrid(\n    {\n      columns,\n      data,\n      onDataUpdate: setData,\n    },\n    useEditableCell\n  );\n  return <Datagrid datagridState={datagridState} />;\n};\n          "},story:EditableCellUsageStory},{title:"Using deprecated useInlineEdit hook",description:"At this time, it is possible to still use the deprecated `useInlineEdit` hook but requires setting a feature flag. See example below:",source:{code:"\nimport {\n  Datagrid,\n  useDatagrid,\n  useInlineEdit,\n  pkg,\n} from '@carbon/ibm-products';\n\nconst MyInlineEditDatagrid = () => {\n  pkg.feature['Datagrid.useInlineEdit'] = true;\n  const [data, setData] = useState(gridData);\n  const datagridState = useDatagrid(\n    {\n      columns,\n      data,\n      onDataUpdate: setData,\n    },\n    useInlineEdit\n  );\n  return <Datagrid datagridState={datagridState} />;\n};\n          "},story:InlineEditUsageStory}]})};DocsPage.displayName="DocsPage",DocsPage.__docgenInfo={description:"",methods:[],displayName:"DocsPage"};var _p,_p2,makeData=__webpack_require__("../ibm-products/src/components/Datagrid/utils/makeData.js"),getArgTypes=__webpack_require__("../ibm-products/src/components/Datagrid/utils/getArgTypes.js"),getInlineEditColumns=__webpack_require__("../ibm-products/src/components/Datagrid/utils/getInlineEditColumns.js");function EditableCell_stories_typeof(o){return EditableCell_stories_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},EditableCell_stories_typeof(o)}function EditableCell_stories_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function EditableCell_stories_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?EditableCell_stories_ownKeys(Object(t),!0).forEach((function(r){EditableCell_stories_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):EditableCell_stories_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function EditableCell_stories_defineProperty(obj,key,value){return(key=function EditableCell_stories_toPropertyKey(t){var i=function EditableCell_stories_toPrimitive(t,r){if("object"!=EditableCell_stories_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=EditableCell_stories_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==EditableCell_stories_typeof(i)?i:String(i)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function EditableCell_stories_slicedToArray(arr,i){return function EditableCell_stories_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function EditableCell_stories_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function EditableCell_stories_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return EditableCell_stories_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EditableCell_stories_arrayLikeToArray(o,minLen)}(arr,i)||function EditableCell_stories_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EditableCell_stories_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectDestructuringEmpty(obj){if(null==obj)throw new TypeError("Cannot destructure "+obj)}function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var EditableCell_stories_blockClass="".concat(settings.K.prefix,"--datagrid"),storybookBlockClass="storybook-".concat(EditableCell_stories_blockClass,"__validation-code-snippet");const EditableCell_stories={title:"IBM Products/Components/Datagrid/EditableCell",component:Datagrid.c,tags:["autodocs"],parameters:{storySource:{source:"function _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nvar _p, _p2;\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _objectDestructuringEmpty(obj) { if (obj == null) throw new TypeError(\"Cannot destructure \" + obj); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/**\n * Copyright IBM Corp. 2022, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { useState } from 'react';\nimport { Edit, TrashCan } from '@carbon/react/icons';\nimport { action } from '@storybook/addon-actions';\nimport { Datagrid, useDatagrid, useInlineEdit, useEditableCell } from '../../index';\nimport { pkg } from '../../../../settings';\nimport styles from '../../_storybook-styles.scss';\nimport { DocsPage } from './EditableCell.docs-page';\nimport { makeData } from '../../utils/makeData';\nimport { ARG_TYPES } from '../../utils/getArgTypes';\nimport { getInlineEditColumns } from '../../utils/getInlineEditColumns';\nvar blockClass = \"\".concat(pkg.prefix, \"--datagrid\");\nvar storybookBlockClass = \"storybook-\".concat(blockClass, \"__validation-code-snippet\");\nexport default {\n  title: 'IBM Products/Components/Datagrid/EditableCell',\n  component: Datagrid,\n  tags: ['autodocs'],\n  parameters: {\n    styles: styles,\n    docs: {\n      page: DocsPage\n    },\n    layout: 'fullscreen',\n    argTypes: {\n      featureFlags: {\n        table: {\n          disable: true\n        }\n      }\n    }\n  }\n};\nvar sharedDatagridProps = {\n  emptyStateTitle: 'Empty state title',\n  emptyStateDescription: 'Description text explaining why table is empty',\n  emptyStateSize: 'lg',\n  gridTitle: 'Data table title',\n  gridDescription: 'Additional information if needed',\n  useDenseHeader: false,\n  rowSize: 'lg',\n  rowSizes: [{\n    value: 'xl',\n    labelText: 'Extra large'\n  }, {\n    value: 'lg',\n    labelText: 'Large'\n  }, {\n    value: 'md',\n    labelText: 'Medium'\n  }, {\n    value: 'xs',\n    labelText: 'Small'\n  }],\n  onRowSizeChange: function onRowSizeChange(value) {\n    console.log('row size changed to: ', value);\n  },\n  rowActions: [{\n    id: 'edit',\n    itemText: 'Edit',\n    icon: Edit,\n    onClick: action('Clicked row action: edit')\n  }, {\n    id: 'delete',\n    itemText: 'Delete',\n    icon: TrashCan,\n    isDelete: true,\n    onClick: action('Clicked row action: delete')\n  }]\n};\nvar EditableCellUsage = function EditableCellUsage(_ref) {\n  var args = _extends({}, (_objectDestructuringEmpty(_ref), _ref));\n  var _useState = useState(makeData(10)),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var columns = React.useMemo(function () {\n    return getInlineEditColumns();\n  }, []);\n  pkg._silenceWarnings(false); // warnings are ordinarily silenced in storybook, add this to test.\n  pkg.feature['Datagrid.useInlineEdit'] = true;\n  pkg._silenceWarnings(true);\n  var datagridState = useDatagrid(_objectSpread({\n    columns: columns,\n    data: data,\n    onDataUpdate: setData\n  }, args.defaultGridProps), useEditableCell);\n\n  // Warnings are ordinarily silenced in storybook, add this to test.\n  pkg._silenceWarnings(false);\n  pkg.feature['Datagrid.useEditableCell'] = true;\n  pkg._silenceWarnings(true);\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Datagrid, {\n    datagridState: datagridState\n  }), _p || (_p = /*#__PURE__*/React.createElement(\"p\", null, \"The following inline edit columns incorporate validation:\", /*#__PURE__*/React.createElement(\"code\", {\n    className: storybookBlockClass\n  }, 'first_name'), /*#__PURE__*/React.createElement(\"code\", {\n    className: storybookBlockClass\n  }, 'last_name'), /*#__PURE__*/React.createElement(\"code\", {\n    className: storybookBlockClass\n  }, 'age'), /*#__PURE__*/React.createElement(\"code\", {\n    className: storybookBlockClass\n  }, 'visits'))));\n};\nvar EditableCellTemplateWrapper = function EditableCellTemplateWrapper(_ref2) {\n  var args = _extends({}, (_objectDestructuringEmpty(_ref2), _ref2));\n  return /*#__PURE__*/React.createElement(EditableCellUsage, {\n    defaultGridProps: _objectSpread({}, args)\n  });\n};\nvar InlineEditUsage = function InlineEditUsage(_ref3) {\n  var args = _extends({}, (_objectDestructuringEmpty(_ref3), _ref3));\n  var _useState3 = useState(makeData(10)),\n    _useState4 = _slicedToArray(_useState3, 2),\n    data = _useState4[0],\n    setData = _useState4[1];\n  var columns = React.useMemo(function () {\n    return getInlineEditColumns();\n  }, []);\n\n  // Warnings are ordinarily silenced in storybook, add this to test.\n  pkg._silenceWarnings(false);\n  pkg.feature['Datagrid.useInlineEdit'] = true;\n  pkg._silenceWarnings(true);\n  var datagridState = useDatagrid(_objectSpread({\n    columns: columns,\n    data: data,\n    onDataUpdate: setData\n  }, args.defaultGridProps), useInlineEdit);\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Datagrid, {\n    datagridState: datagridState\n  }), _p2 || (_p2 = /*#__PURE__*/React.createElement(\"p\", null, \"The following inline edit columns incorporate validation:\", /*#__PURE__*/React.createElement(\"code\", {\n    className: storybookBlockClass\n  }, 'first_name'), /*#__PURE__*/React.createElement(\"code\", {\n    className: storybookBlockClass\n  }, 'last_name'), /*#__PURE__*/React.createElement(\"code\", {\n    className: storybookBlockClass\n  }, 'age'), /*#__PURE__*/React.createElement(\"code\", {\n    className: storybookBlockClass\n  }, 'visits'))));\n};\nvar InlineEditTemplateWrapper = function InlineEditTemplateWrapper(_ref4) {\n  var args = _extends({}, (_objectDestructuringEmpty(_ref4), _ref4));\n  return /*#__PURE__*/React.createElement(InlineEditUsage, {\n    defaultGridProps: _objectSpread({}, args)\n  });\n};\nvar inlineEditUsageControlProps = {\n  gridTitle: sharedDatagridProps.gridTitle,\n  gridDescription: sharedDatagridProps.gridDescription,\n  useDenseHeader: sharedDatagridProps.useDenseHeader\n};\nexport var EditableCellUsageStory = EditableCellTemplateWrapper.bind({});\nEditableCellUsageStory.storyName = 'Using useEditableCell hook';\nEditableCellUsageStory.argTypes = {\n  gridTitle: ARG_TYPES.gridTitle,\n  gridDescription: ARG_TYPES.gridDescription,\n  useDenseHeader: ARG_TYPES.useDenseHeader\n};\nEditableCellUsageStory.args = _objectSpread(_objectSpread({}, inlineEditUsageControlProps), {}, {\n  featureFlags: ['Datagrid.useEditableCell']\n});\nvar basicUsageStoryName = 'Using deprecated useInlineEdit hook';\nexport var InlineEditUsageStory = InlineEditTemplateWrapper.bind({});\nInlineEditUsageStory.storyName = basicUsageStoryName;\nInlineEditUsageStory.argTypes = {\n  gridTitle: ARG_TYPES.gridTitle,\n  gridDescription: ARG_TYPES.gridDescription,\n  useDenseHeader: ARG_TYPES.useDenseHeader\n};\nInlineEditUsageStory.args = _objectSpread(_objectSpread({}, inlineEditUsageControlProps), {}, {\n  featureFlags: ['Datagrid.useInlineEdit']\n});",locationsMap:{"editable-cell-usage-story":{startLoc:{col:34,line:126},endLoc:{col:1,line:131},startBody:{col:34,line:126},endBody:{col:1,line:131}},"inline-edit-usage-story":{startLoc:{col:32,line:163},endLoc:{col:1,line:168},startBody:{col:32,line:163},endBody:{col:1,line:168}}}},styles:_storybook_styles.Z,docs:{page:DocsPage},layout:"fullscreen",argTypes:{featureFlags:{table:{disable:!0}}}}};var sharedDatagridProps_gridTitle="Data table title",sharedDatagridProps_gridDescription="Additional information if needed",sharedDatagridProps_useDenseHeader=!1,EditableCellUsage=(bucket_5.I8,(0,dist.aD)("Clicked row action: edit"),bucket_16.ZN,(0,dist.aD)("Clicked row action: delete"),function EditableCellUsage(_ref){var args=_extends({},(_objectDestructuringEmpty(_ref),_ref)),_useState2=EditableCell_stories_slicedToArray((0,react.useState)((0,makeData._l)(10)),2),data=_useState2[0],setData=_useState2[1],columns=react.useMemo((function(){return(0,getInlineEditColumns.L)()}),[]);settings.K._silenceWarnings(!1),settings.K.feature["Datagrid.useInlineEdit"]=!0,settings.K._silenceWarnings(!0);var datagridState=(0,useDatagrid.Z)(EditableCell_stories_objectSpread({columns,data,onDataUpdate:setData},args.defaultGridProps),Datagrid_useEditableCell);return settings.K._silenceWarnings(!1),settings.K.feature["Datagrid.useEditableCell"]=!0,settings.K._silenceWarnings(!0),react.createElement("div",null,react.createElement(Datagrid.c,{datagridState}),_p||(_p=react.createElement("p",null,"The following inline edit columns incorporate validation:",react.createElement("code",{className:storybookBlockClass},"first_name"),react.createElement("code",{className:storybookBlockClass},"last_name"),react.createElement("code",{className:storybookBlockClass},"age"),react.createElement("code",{className:storybookBlockClass},"visits"))))}),InlineEditUsage=function InlineEditUsage(_ref3){var args=_extends({},(_objectDestructuringEmpty(_ref3),_ref3)),_useState4=EditableCell_stories_slicedToArray((0,react.useState)((0,makeData._l)(10)),2),data=_useState4[0],setData=_useState4[1],columns=react.useMemo((function(){return(0,getInlineEditColumns.L)()}),[]);settings.K._silenceWarnings(!1),settings.K.feature["Datagrid.useInlineEdit"]=!0,settings.K._silenceWarnings(!0);var datagridState=(0,useDatagrid.Z)(EditableCell_stories_objectSpread({columns,data,onDataUpdate:setData},args.defaultGridProps),Datagrid_useInlineEdit);return react.createElement("div",null,react.createElement(Datagrid.c,{datagridState}),_p2||(_p2=react.createElement("p",null,"The following inline edit columns incorporate validation:",react.createElement("code",{className:storybookBlockClass},"first_name"),react.createElement("code",{className:storybookBlockClass},"last_name"),react.createElement("code",{className:storybookBlockClass},"age"),react.createElement("code",{className:storybookBlockClass},"visits"))))},inlineEditUsageControlProps={gridTitle:sharedDatagridProps_gridTitle,gridDescription:sharedDatagridProps_gridDescription,useDenseHeader:sharedDatagridProps_useDenseHeader},EditableCellUsageStory=function EditableCellTemplateWrapper(_ref2){var args=_extends({},(_objectDestructuringEmpty(_ref2),_ref2));return react.createElement(EditableCellUsage,{defaultGridProps:EditableCell_stories_objectSpread({},args)})}.bind({});EditableCellUsageStory.storyName="Using useEditableCell hook",EditableCellUsageStory.argTypes={gridTitle:getArgTypes.u.gridTitle,gridDescription:getArgTypes.u.gridDescription,useDenseHeader:getArgTypes.u.useDenseHeader},EditableCellUsageStory.args=EditableCell_stories_objectSpread(EditableCell_stories_objectSpread({},inlineEditUsageControlProps),{},{featureFlags:["Datagrid.useEditableCell"]});var InlineEditUsageStory=function InlineEditTemplateWrapper(_ref4){var args=_extends({},(_objectDestructuringEmpty(_ref4),_ref4));return react.createElement(InlineEditUsage,{defaultGridProps:EditableCell_stories_objectSpread({},args)})}.bind({});InlineEditUsageStory.storyName="Using deprecated useInlineEdit hook",InlineEditUsageStory.argTypes={gridTitle:getArgTypes.u.gridTitle,gridDescription:getArgTypes.u.gridDescription,useDenseHeader:getArgTypes.u.useDenseHeader},InlineEditUsageStory.args=EditableCell_stories_objectSpread(EditableCell_stories_objectSpread({},inlineEditUsageControlProps),{},{featureFlags:["Datagrid.useInlineEdit"]}),EditableCellUsageStory.parameters={...EditableCellUsageStory.parameters,docs:{...EditableCellUsageStory.parameters?.docs,source:{originalSource:"({\n  ...args\n}) => {\n  return <EditableCellUsage defaultGridProps={{\n    ...args\n  }} />;\n}",...EditableCellUsageStory.parameters?.docs?.source}}},InlineEditUsageStory.parameters={...InlineEditUsageStory.parameters,docs:{...InlineEditUsageStory.parameters?.docs,source:{originalSource:"({\n  ...args\n}) => {\n  return <InlineEditUsage defaultGridProps={{\n    ...args\n  }} />;\n}",...InlineEditUsageStory.parameters?.docs?.source}}};const __namedExportsOrder=["EditableCellUsageStory","InlineEditUsageStory"]}}]);