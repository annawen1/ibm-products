"use strict";(self.webpackChunk_carbon_ibm_cloud_cognitive_core=self.webpackChunk_carbon_ibm_cloud_cognitive_core||[]).push([[2996],{"../ibm-products/src/components/NotificationsPanel/NotificationsPanel.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,EmptyState:()=>EmptyState,__namedExportsOrder:()=>__namedExportsOrder,default:()=>NotificationsPanel_stories});var react=__webpack_require__("../../node_modules/react/index.js"),dist=__webpack_require__("../../node_modules/@storybook/addon-actions/dist/index.mjs"),es=__webpack_require__("../../node_modules/@carbon/react/es/index.js"),bucket_11=__webpack_require__("../../node_modules/@carbon/icons-react/es/generated/bucket-11.js"),bucket_16=__webpack_require__("../../node_modules/@carbon/icons-react/es/generated/bucket-16.js"),injectStylesIntoStyleTag=__webpack_require__("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("../../node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("../../node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),_storybook_styles=__webpack_require__("../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[17].use[2]!../ibm-products/src/components/NotificationsPanel/_storybook-styles.scss"),exported={};_storybook_styles.Z&&_storybook_styles.Z.locals&&(exported.locals=_storybook_styles.Z.locals);var update,refs=0,options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default(),exported.use=function(insertOptions){return options.options=insertOptions||{},refs++||(update=injectStylesIntoStyleTag_default()(_storybook_styles.Z,options)),exported},exported.unuse=function(){refs>0&&! --refs&&(update(),update=null)};const NotificationsPanel_storybook_styles=exported;var _svg,uuidv4=__webpack_require__("../ibm-products/src/global/js/utils/uuidv4.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),UnreadNotificationBell=function UnreadNotificationBell(){return _svg||(_svg=(0,jsx_runtime.jsxs)("svg",{width:"18px",height:"19px",viewBox:"0 0 18 19",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,jsx_runtime.jsx)("title",{children:"Unread notification bell"}),(0,jsx_runtime.jsxs)("g",{id:"Group",transform:"translate(-1.000000, 0.000000)",children:[(0,jsx_runtime.jsx)("path",{d:"M17.9419375,12.058125 L16.25,10.3661875 L16.25,8.125 C16.245845,4.91692673 13.816599,2.23147626 10.625,1.90675 L10.625,0.625 L9.375,0.625 L9.375,1.90675 C6.183401,2.23147626 3.754155,4.91692673 3.75,8.125 L3.75,10.3661875 L2.0580625,12.058125 C1.94086706,12.1753182 1.875,12.3342622 1.875,12.5 L1.875,14.375 C1.875,14.720178 2.15482203,15 2.5,15 L6.875,15 L6.875,15.4855 C6.84694527,17.1272367 8.05869477,18.5271305 9.6875,18.7346875 C10.5660567,18.8218694 11.4405518,18.5337871 12.0952737,17.9415019 C12.7499955,17.3492167 13.1239886,16.5078712 13.125,15.625 L13.125,15 L17.5,15 C17.845178,15 18.125,14.720178 18.125,14.375 L18.125,12.5 C18.125,12.3342622 18.0591329,12.1753182 17.9419375,12.058125 Z M11.875,15.625 C11.875,16.6605339 11.0355339,17.5 10,17.5 C8.96446609,17.5 8.125,16.6605339 8.125,15.625 L8.125,15 L11.875,15 L11.875,15.625 Z M16.875,13.75 L3.125,13.75 L3.125,12.7588125 L4.816875,11.066875 C4.93409336,10.949692 4.9999646,10.7907468 5,10.625 L5,8.125 C5,5.36357625 7.23857625,3.125 10,3.125 C12.7614237,3.125 15,5.36357625 15,8.125 L15,10.625 C15.0000354,10.7907468 15.0659066,10.949692 15.183125,11.066875 L16.875,12.7588125 L16.875,13.75 Z",id:"Shape",fillRule:"nonzero"}),(0,jsx_runtime.jsx)("circle",{id:"Oval",stroke:"#161616",fill:"#DA1E28",cx:"15",cy:"4.375",r:"2.5"})]})]}))};UnreadNotificationBell.displayName="UnreadNotificationBell",UnreadNotificationBell.__docgenInfo={description:"",methods:[],displayName:"UnreadNotificationBell"};var _Close,settings=__webpack_require__("../ibm-products/src/settings.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),classnames=__webpack_require__("../../node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),devtools=__webpack_require__("../ibm-products/src/global/js/utils/devtools.js"),useClickOutside=__webpack_require__("../ibm-products/src/global/js/hooks/useClickOutside.js"),timeAgo=function timeAgo(_ref){var previousTime=_ref.previousTime,secondsAgoText=_ref.secondsAgoText,minuteAgoText=_ref.minuteAgoText,minutesAgoText=_ref.minutesAgoText,hoursAgoText=_ref.hoursAgoText,hourAgoText=_ref.hourAgoText,daysAgoText=_ref.daysAgoText,yesterdayAtText=_ref.yesterdayAtText,monthsAgoText=_ref.monthsAgoText,monthAgoText=_ref.monthAgoText,yearsAgoText=_ref.yearsAgoText,yearAgoText=_ref.yearAgoText,nowText=_ref.nowText,elapsed=new Date-previousTime;switch(!0){case elapsed<6e4:return Math.round(elapsed/1e3)>10?secondsAgoText(Math.round(elapsed/1e3)):nowText;case elapsed<36e5:return Math.round(elapsed/6e4)>1?minutesAgoText(Math.round(elapsed/6e4)):minuteAgoText(Math.round(elapsed/6e4));case elapsed<864e5:return Math.round(elapsed/36e5)>1?hoursAgoText(Math.round(elapsed/36e5)):hourAgoText(Math.round(elapsed/36e5));case elapsed<2592e6:return Math.round(elapsed/864e5)>1?daysAgoText(Math.round(elapsed/864e5)):yesterdayAtText(new Date(previousTime).toLocaleTimeString(getBrowserLocales[0]));case elapsed<31536e6:return Math.round(elapsed/2592e6)>1?monthsAgoText(Math.round(elapsed/2592e6)):monthAgoText(Math.round(elapsed/2592e6));default:return Math.round(elapsed/31536e6)>1?yearsAgoText(Math.round(elapsed/31536e6)):yearAgoText(Math.round(elapsed/31536e6))}},getBrowserLocales=function getBrowserLocales(){return(void 0===navigator.languages?[navigator.language,"en"]:navigator.languages).map((function(locale){return locale.trim()}))},props_helper=__webpack_require__("../ibm-products/src/global/js/utils/props-helper.js"),NotificationsEmptyState=__webpack_require__("../ibm-products/src/components/EmptyStates/NotificationsEmptyState/NotificationsEmptyState.js"),bucket_2=__webpack_require__("../../node_modules/@carbon/icons-react/es/generated/bucket-2.js"),bucket_5=__webpack_require__("../../node_modules/@carbon/icons-react/es/generated/bucket-5.js"),bucket_17=__webpack_require__("../../node_modules/@carbon/icons-react/es/generated/bucket-17.js"),bucket_8=__webpack_require__("../../node_modules/@carbon/icons-react/es/generated/bucket-8.js"),bucket_3=__webpack_require__("../../node_modules/@carbon/icons-react/es/generated/bucket-3.js"),bucket_13=__webpack_require__("../../node_modules/@carbon/icons-react/es/generated/bucket-13.js"),usePreviousValue=__webpack_require__("../ibm-products/src/global/js/hooks/usePreviousValue.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["className","data","daysAgoText","dismissAllLabel","dismissSingleNotificationIconDescription","doNotDisturbDefaultToggled","doNotDisturbLabel","emptyStateLabel","hourAgoText","hoursAgoText","minuteAgoText","minutesAgoText","monthAgoText","monthsAgoText","nowText","onClickOutside","onDismissAllNotifications","onDismissSingleNotification","onDoNotDisturbChange","onSettingsClick","onViewAllClick","open","previousLabel","readLessLabel","readMoreLabel","secondsAgoText","settingsIconDescription","title","todayLabel","viewAllLabel","yearAgoText","yearsAgoText","yesterdayAtText","yesterdayLabel"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var blockClass="".concat(settings.K.prefix,"--notifications-panel"),defaults={daysAgoText:function daysAgoText(value){return"".concat(value," days ago")},dismissAllLabel:"Dismiss all",dismissSingleNotificationIconDescription:"Dismiss",doNotDisturbLabel:"Do not disturb",emptyStateLabel:"You do not have any notifications",hourAgoText:function hourAgoText(value){return"".concat(value," hour ago")},hoursAgoText:function hoursAgoText(value){return"".concat(value," hours ago")},minuteAgoText:function minuteAgoText(value){return"".concat(value," minute ago")},minutesAgoText:function minutesAgoText(value){return"".concat(value," minutes ago")},monthAgoText:function monthAgoText(value){return"".concat(value," month ago")},monthsAgoText:function monthsAgoText(value){return"".concat(value," months ago")},nowText:"Now",onDismissAllNotifications:function onDismissAllNotifications(){},onDismissSingleNotification:function onDismissSingleNotification(){},previousLabel:"Previous",readLessLabel:"Read less",readMoreLabel:"Read more",secondsAgoText:function secondsAgoText(value){return"".concat(value," seconds ago")},settingsIconDescription:"Settings",title:"Notifications",todayLabel:"Today",viewAllLabel:function viewAllLabel(value){return"View all (".concat(value,")")},yearAgoText:function yearAgoText(value){return"".concat(value," year ago")},yearsAgoText:function yearsAgoText(value){return"".concat(value," years ago")},yesterdayAtText:function yesterdayAtText(value){return"Yesterday at ".concat(value)},yesterdayLabel:"Yesterday"},NotificationsPanel=react.forwardRef((function(_ref,ref){var className=_ref.className,data=_ref.data,_ref$daysAgoText=_ref.daysAgoText,daysAgoText=void 0===_ref$daysAgoText?defaults.daysAgoText:_ref$daysAgoText,_ref$dismissAllLabel=_ref.dismissAllLabel,dismissAllLabel=void 0===_ref$dismissAllLabel?defaults.dismissAllLabel:_ref$dismissAllLabel,_ref$dismissSingleNot=_ref.dismissSingleNotificationIconDescription,dismissSingleNotificationIconDescription=void 0===_ref$dismissSingleNot?defaults.dismissSingleNotificationIconDescription:_ref$dismissSingleNot,doNotDisturbDefaultToggled=_ref.doNotDisturbDefaultToggled,_ref$doNotDisturbLabe=_ref.doNotDisturbLabel,doNotDisturbLabel=void 0===_ref$doNotDisturbLabe?defaults.doNotDisturbLabel:_ref$doNotDisturbLabe,_ref$emptyStateLabel=_ref.emptyStateLabel,emptyStateLabel=void 0===_ref$emptyStateLabel?defaults.emptyStateLabel:_ref$emptyStateLabel,_ref$hourAgoText=_ref.hourAgoText,hourAgoText=void 0===_ref$hourAgoText?defaults.hourAgoText:_ref$hourAgoText,_ref$hoursAgoText=_ref.hoursAgoText,hoursAgoText=void 0===_ref$hoursAgoText?defaults.hoursAgoText:_ref$hoursAgoText,_ref$minuteAgoText=_ref.minuteAgoText,minuteAgoText=void 0===_ref$minuteAgoText?defaults.minuteAgoText:_ref$minuteAgoText,_ref$minutesAgoText=_ref.minutesAgoText,minutesAgoText=void 0===_ref$minutesAgoText?defaults.minutesAgoText:_ref$minutesAgoText,_ref$monthAgoText=_ref.monthAgoText,monthAgoText=void 0===_ref$monthAgoText?defaults.monthAgoText:_ref$monthAgoText,_ref$monthsAgoText=_ref.monthsAgoText,monthsAgoText=void 0===_ref$monthsAgoText?defaults.monthsAgoText:_ref$monthsAgoText,_ref$nowText=_ref.nowText,nowText=void 0===_ref$nowText?defaults.nowText:_ref$nowText,onClickOutside=_ref.onClickOutside,_ref$onDismissAllNoti=_ref.onDismissAllNotifications,onDismissAllNotifications=void 0===_ref$onDismissAllNoti?defaults.onDismissAllNotifications:_ref$onDismissAllNoti,_ref$onDismissSingleN=_ref.onDismissSingleNotification,onDismissSingleNotification=void 0===_ref$onDismissSingleN?defaults.onDismissSingleNotification:_ref$onDismissSingleN,onDoNotDisturbChange=_ref.onDoNotDisturbChange,onSettingsClick=_ref.onSettingsClick,onViewAllClick=_ref.onViewAllClick,open=_ref.open,_ref$previousLabel=_ref.previousLabel,previousLabel=void 0===_ref$previousLabel?defaults.previousLabel:_ref$previousLabel,_ref$readLessLabel=_ref.readLessLabel,readLessLabel=void 0===_ref$readLessLabel?defaults.readLessLabel:_ref$readLessLabel,_ref$readMoreLabel=_ref.readMoreLabel,readMoreLabel=void 0===_ref$readMoreLabel?defaults.readMoreLabel:_ref$readMoreLabel,_ref$secondsAgoText=_ref.secondsAgoText,secondsAgoText=void 0===_ref$secondsAgoText?defaults.secondsAgoText:_ref$secondsAgoText,_ref$settingsIconDesc=_ref.settingsIconDescription,settingsIconDescription=void 0===_ref$settingsIconDesc?defaults.settingsIconDescription:_ref$settingsIconDesc,_ref$title=_ref.title,title=void 0===_ref$title?defaults.title:_ref$title,_ref$todayLabel=_ref.todayLabel,todayLabel=void 0===_ref$todayLabel?defaults.todayLabel:_ref$todayLabel,_ref$viewAllLabel=_ref.viewAllLabel,viewAllLabel=void 0===_ref$viewAllLabel?defaults.viewAllLabel:_ref$viewAllLabel,_ref$yearAgoText=_ref.yearAgoText,yearAgoText=void 0===_ref$yearAgoText?defaults.yearAgoText:_ref$yearAgoText,_ref$yearsAgoText=_ref.yearsAgoText,yearsAgoText=void 0===_ref$yearsAgoText?defaults.yearsAgoText:_ref$yearsAgoText,_ref$yesterdayAtText=_ref.yesterdayAtText,yesterdayAtText=void 0===_ref$yesterdayAtText?defaults.yesterdayAtText:_ref$yesterdayAtText,_ref$yesterdayLabel=_ref.yesterdayLabel,yesterdayLabel=void 0===_ref$yesterdayLabel?defaults.yesterdayLabel:_ref$yesterdayLabel,rest=_objectWithoutProperties(_ref,_excluded),notificationPanelRef=(0,react.useRef)(),_useState2=_slicedToArray((0,react.useState)(open),2),shouldRender=_useState2[0],setRender=_useState2[1],_useState4=_slicedToArray((0,react.useState)([]),2),allNotifications=_useState4[0],setAllNotifications=_useState4[1],previousState=(0,usePreviousValue.z)({open}),reducedMotion=window&&window.matchMedia?window.matchMedia("(prefers-reduced-motion: reduce)"):{matches:!0};(0,react.useEffect)((function(){setAllNotifications(data)}),[data]),(0,useClickOutside.O)(ref||notificationPanelRef,(function(){onClickOutside()})),(0,react.useEffect)((function(){open&&setRender(!0)}),[open]);(0,react.useEffect)((function(){!open&&null!=previousState&&previousState.open&&reducedMotion.matches&&setRender(!1)}),[open,reducedMotion.matches,null==previousState?void 0:previousState.open]);var sortChronologically=function sortChronologically(arr){if(arr&&(!arr||arr.length))return arr.sort((function(a,b){return b.timestamp-a.timestamp}))},yesterdayDate=new Date;yesterdayDate=new Date(yesterdayDate.setDate(yesterdayDate.getDate()-1));var dayBeforeYesterdayDate=new Date;dayBeforeYesterdayDate=new Date(dayBeforeYesterdayDate.setDate(dayBeforeYesterdayDate.getDate()-2));var withinLastDayNotifications=allNotifications&&allNotifications.length&&allNotifications.filter((function(item){return item.timestamp.getTime()>=yesterdayDate.getTime()}));withinLastDayNotifications=sortChronologically(withinLastDayNotifications);var previousDayNotifications=allNotifications&&allNotifications.length&&allNotifications.filter((function(item){return item.timestamp.getTime()<yesterdayDate.getTime()&&item.timestamp.getTime()>=dayBeforeYesterdayDate.getTime()}));previousDayNotifications=sortChronologically(previousDayNotifications);var previousNotifications=allNotifications&&allNotifications.length&&allNotifications.filter((function(item){return item.timestamp.getTime()<dayBeforeYesterdayDate.getTime()}));previousNotifications=sortChronologically(previousNotifications);var renderDescription=function renderDescription(id){var notification=allNotifications&&allNotifications.length&&allNotifications.filter((function(item){return item.id===id}))[0],description=notification.description,descriptionClassName=classnames_default()(["".concat(blockClass,"__notification-description"),_defineProperty(_defineProperty({},"".concat(blockClass,"__notification-long-description"),notification.showAll),"".concat(blockClass,"__notification-short-description"),!notification.showAll)]),showMoreButtonClassName=classnames_default()([_defineProperty(_defineProperty({},"".concat(blockClass,"__notification-read-less-button"),notification.showAll),"".concat(blockClass,"__notification-read-more-button"),!notification.showAll)]);return(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("p",{className:descriptionClassName,children:description}),description.length>88&&(0,jsx_runtime.jsx)(es.zxk,{kind:"ghost",size:"sm",renderIcon:function renderIcon(props){return(0,jsx_runtime.jsx)(bucket_2._M,_objectSpread({size:16},props))},iconDescription:notification.showAll?readLessLabel:readMoreLabel,onClick:function onClick(event){event.preventDefault(),event.stopPropagation();var newData=allNotifications.map((function(item){return item.id===notification.id?Object.assign({},item,{showAll:!item.showAll}):item}));setAllNotifications(newData)},className:showMoreButtonClassName,children:notification.showAll?readLessLabel:readMoreLabel})]})},renderNotification=function renderNotification(group,notification,index){var notificationClassName=classnames_default()(["".concat(blockClass,"__notification"),"".concat(blockClass,"__notification-").concat(group)]),notificationHeaderClassName=classnames_default()(["".concat(blockClass,"__notification-title"),_defineProperty({},"".concat(blockClass,"__notification-title-unread"),notification.unread)]);return(0,jsx_runtime.jsxs)("div",{"aria-label":notification.title,className:notificationClassName,type:"button",role:"button",tabIndex:0,onClick:function onClick(){return notification.onNotificationClick(notification)},onKeyDown:function onKeyDown(event){event.target.classList.contains("".concat(blockClass,"__dismiss-single-button"))||13===event.which&&notification.onNotificationClick(notification)},children:["error"===notification.type&&(0,jsx_runtime.jsx)(bucket_5.$r,{size:16,className:classnames_default()(["".concat(blockClass,"__notification-status-icon"),"".concat(blockClass,"__notification-status-icon-error")])}),"success"===notification.type&&(0,jsx_runtime.jsx)(bucket_2.kF,{size:16,className:classnames_default()(["".concat(blockClass,"__notification-status-icon"),"".concat(blockClass,"__notification-status-icon-success")])}),"warning"===notification.type&&(0,jsx_runtime.jsx)(bucket_17.Od,{size:16,className:classnames_default()(["".concat(blockClass,"__notification-status-icon"),"".concat(blockClass,"__notification-status-icon-warning")])}),"informational"===notification.type&&(0,jsx_runtime.jsx)(bucket_8.Ef,{size:16,className:classnames_default()(["".concat(blockClass,"__notification-status-icon"),"".concat(blockClass,"__notification-status-icon-informational")])}),(0,jsx_runtime.jsxs)("div",{className:"".concat(blockClass,"__notification-content"),children:[(0,jsx_runtime.jsx)("p",{className:"".concat(blockClass,"__notification-time-label"),children:timeAgo({previousTime:notification.timestamp,secondsAgoText,minuteAgoText,minutesAgoText,hoursAgoText,hourAgoText,daysAgoText,yesterdayAtText,monthsAgoText,monthAgoText,yearsAgoText,yearAgoText,nowText})}),(0,jsx_runtime.jsx)("h6",{className:notificationHeaderClassName,children:notification.title}),notification.description&&notification.description.length&&renderDescription(notification.id),notification.link&&notification.link.text&&notification.link.url&&(0,jsx_runtime.jsx)(es.rUS,_objectSpread(_objectSpread({href:notification.link.url,className:"".concat(blockClass,"__notifications-link")},(0,props_helper.eG)({},notification.link,["text","url"])),{},{children:notification.link.text}))]}),(0,jsx_runtime.jsx)(es.hU,{align:"left",kind:"ghost",size:"sm",label:dismissSingleNotificationIconDescription,className:"".concat(blockClass,"__dismiss-single-button"),onClick:function onClick(event){return dismissSingleNotification(event,notification)},children:_Close||(_Close=(0,jsx_runtime.jsx)(bucket_3.x8,{size:16}))})]},"".concat(notification.timestamp,"-").concat(notification.title,"-").concat(index))},dismissSingleNotification=function dismissSingleNotification(event,notification){event.preventDefault(),event.stopPropagation(),onDismissSingleNotification(notification)},mainSectionClassName=classnames_default()(["".concat(blockClass,"__main-section"),_defineProperty({},"".concat(blockClass,"__main-section-empty"),allNotifications&&!allNotifications.length)]);return shouldRender?(0,jsx_runtime.jsxs)("div",_objectSpread(_objectSpread(_objectSpread({},rest),{},{id:blockClass,className:classnames_default()(blockClass,className,"".concat(blockClass,"__container")),style:{animation:reducedMotion.matches?null:"".concat(open?"fade-in 250ms":"fade-out forwards 250ms")},onAnimationEnd:function onAnimationEnd(){!open&&setRender(!1)},ref:ref||notificationPanelRef},(0,devtools.n8)("NotificationsPanel")),{},{children:[(0,jsx_runtime.jsxs)("div",{className:"".concat(blockClass,"__header-container"),children:[(0,jsx_runtime.jsxs)("div",{className:"".concat(blockClass,"__header-flex"),children:[(0,jsx_runtime.jsx)("h2",{className:"".concat(blockClass,"__header"),children:title}),(0,jsx_runtime.jsx)(es.zxk,{size:"sm",kind:"ghost",className:"".concat(blockClass,"__dismiss-button"),onClick:function onClick(){return onDismissAllNotifications()},children:dismissAllLabel})]}),onDoNotDisturbChange&&(0,jsx_runtime.jsx)(es.ZDl,{size:"sm",className:"".concat(blockClass,"__do-not-disturb-toggle"),id:"".concat(blockClass,"__do-not-disturb-toggle-component"),labelA:doNotDisturbLabel,labelB:doNotDisturbLabel,onToggle:function onToggle(event){return onDoNotDisturbChange(event)},defaultToggled:doNotDisturbDefaultToggled,"aria-label":doNotDisturbLabel,labelText:doNotDisturbLabel})]}),(0,jsx_runtime.jsxs)("div",{className:mainSectionClassName,children:[withinLastDayNotifications&&withinLastDayNotifications.length?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("h6",{className:"".concat(blockClass,"__time-section-label"),children:todayLabel}),withinLastDayNotifications.map((function(notification,index){return renderNotification("today",notification,index)}))]}):null,previousDayNotifications&&previousDayNotifications.length?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("h6",{className:"".concat(blockClass,"__time-section-label"),children:yesterdayLabel}),previousDayNotifications.map((function(notification,index){return renderNotification("yesterday",notification,index)}))]}):null,previousNotifications&&previousNotifications.length?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("h6",{className:"".concat(blockClass,"__time-section-label"),children:previousLabel}),previousNotifications.map((function(notification,index){return renderNotification("previous",notification,index)}))]}):null,!allNotifications.length&&(0,jsx_runtime.jsx)(NotificationsEmptyState.T,{illustrationTheme:"dark",title:"",subtitle:emptyStateLabel})]}),onViewAllClick&&onSettingsClick&&allNotifications&&allNotifications.length?(0,jsx_runtime.jsxs)("div",{className:"".concat(blockClass,"__bottom-actions"),children:[(0,jsx_runtime.jsx)(es.zxk,{kind:"ghost",className:"".concat(blockClass,"__view-all-button"),onClick:function onClick(){return onViewAllClick()},children:viewAllLabel(allNotifications.length)}),(0,jsx_runtime.jsx)(es.zxk,{kind:"ghost",size:"sm",className:"".concat(blockClass,"__settings-button"),renderIcon:function renderIcon(props){return(0,jsx_runtime.jsx)(bucket_13.Zr,_objectSpread({size:16},props))},iconDescription:settingsIconDescription,onClick:function onClick(){return onSettingsClick()}})]}):null]})):null}));(NotificationsPanel=settings.K.checkComponentEnabled(NotificationsPanel,"NotificationsPanel")).displayName="NotificationsPanel",NotificationsPanel.propTypes={className:prop_types_default().string,data:prop_types_default().arrayOf(prop_types_default().shape({id:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().number]),type:prop_types_default().oneOf(["error","warning","success","informational"]),timestamp:prop_types_default().instanceOf(Date),title:prop_types_default().string,description:prop_types_default().string,link:prop_types_default().shape({url:prop_types_default().string,text:prop_types_default().string}),unread:prop_types_default().bool,onNotificationClick:prop_types_default().func})).isRequired,daysAgoText:prop_types_default().func,dismissAllLabel:prop_types_default().string,dismissSingleNotificationIconDescription:prop_types_default().string,doNotDisturbDefaultToggled:prop_types_default().bool,doNotDisturbLabel:prop_types_default().string,emptyStateLabel:prop_types_default().string,hourAgoText:prop_types_default().func,hoursAgoText:prop_types_default().func,minuteAgoText:prop_types_default().func,minutesAgoText:prop_types_default().func,monthAgoText:prop_types_default().func,monthsAgoText:prop_types_default().func,nowText:prop_types_default().string,onClickOutside:prop_types_default().func.isRequired,onDismissAllNotifications:prop_types_default().func,onDismissSingleNotification:prop_types_default().func,onDoNotDisturbChange:prop_types_default().func,onSettingsClick:prop_types_default().func,onViewAllClick:prop_types_default().func,open:prop_types_default().bool.isRequired,previousLabel:prop_types_default().string,readLessLabel:prop_types_default().string,readMoreLabel:prop_types_default().string,secondsAgoText:prop_types_default().func,settingsIconDescription:prop_types_default().string,title:prop_types_default().string,todayLabel:prop_types_default().string,viewAllLabel:prop_types_default().func,yearAgoText:prop_types_default().func,yearsAgoText:prop_types_default().func,yesterdayAtText:prop_types_default().func,yesterdayLabel:prop_types_default().string},NotificationsPanel.__docgenInfo={description:"",methods:[],displayName:"NotificationsPanel",props:{daysAgoText:{defaultValue:{value:"(value) => `${value} days ago`",computed:!1},description:"Sets the `days ago` label text",type:{name:"func"},required:!1},dismissAllLabel:{defaultValue:{value:"'Dismiss all'",computed:!1},description:"Label for Dismiss all button",type:{name:"string"},required:!1},dismissSingleNotificationIconDescription:{defaultValue:{value:"'Dismiss'",computed:!1},description:"Label for Dismiss single notification icon button",type:{name:"string"},required:!1},doNotDisturbLabel:{defaultValue:{value:"'Do not disturb'",computed:!1},description:"Optional: Label for Do not disturb toggle",type:{name:"string"},required:!1},emptyStateLabel:{defaultValue:{value:"'You do not have any notifications'",computed:!1},description:"Sets the empty state label text when there are no notifications",type:{name:"string"},required:!1},hourAgoText:{defaultValue:{value:"(value) => `${value} hour ago`",computed:!1},description:"Sets the `hour ago` label text",type:{name:"func"},required:!1},hoursAgoText:{defaultValue:{value:"(value) => `${value} hours ago`",computed:!1},description:"Sets the `hours ago` label text",type:{name:"func"},required:!1},minuteAgoText:{defaultValue:{value:"(value) => `${value} minute ago`",computed:!1},description:"Sets the `minute ago` label text",type:{name:"func"},required:!1},minutesAgoText:{defaultValue:{value:"(value) => `${value} minutes ago`",computed:!1},description:"Sets the `minutes ago` label text",type:{name:"func"},required:!1},monthAgoText:{defaultValue:{value:"(value) => `${value} month ago`",computed:!1},description:"Sets the `month ago` label text",type:{name:"func"},required:!1},monthsAgoText:{defaultValue:{value:"(value) => `${value} months ago`",computed:!1},description:"Sets the `months ago` label text",type:{name:"func"},required:!1},nowText:{defaultValue:{value:"'Now'",computed:!1},description:"Sets the `now` label text",type:{name:"string"},required:!1},onDismissAllNotifications:{defaultValue:{value:"() => {}",computed:!1},description:"Function that will dismiss all notifications",type:{name:"func"},required:!1},onDismissSingleNotification:{defaultValue:{value:"() => {}",computed:!1},description:"Function that will dismiss a single notification",type:{name:"func"},required:!1},previousLabel:{defaultValue:{value:"'Previous'",computed:!1},description:"Sets the previous label text",type:{name:"string"},required:!1},readLessLabel:{defaultValue:{value:"'Read less'",computed:!1},description:"Sets the `read less` label text",type:{name:"string"},required:!1},readMoreLabel:{defaultValue:{value:"'Read more'",computed:!1},description:"Sets the `read more` label text",type:{name:"string"},required:!1},secondsAgoText:{defaultValue:{value:"(value) => `${value} seconds ago`",computed:!1},description:"Sets the `seconds ago` label text",type:{name:"func"},required:!1},settingsIconDescription:{defaultValue:{value:"'Settings'",computed:!1},description:"Sets the settings icon description text",type:{name:"string"},required:!1},title:{defaultValue:{value:"'Notifications'",computed:!1},description:"Sets the title for the Notifications panel",type:{name:"string"},required:!1},todayLabel:{defaultValue:{value:"'Today'",computed:!1},description:"Sets the today label text",type:{name:"string"},required:!1},viewAllLabel:{defaultValue:{value:"(value) => `View all (${value})`",computed:!1},description:"Sets the View all button text",type:{name:"func"},required:!1},yearAgoText:{defaultValue:{value:"(value) => `${value} year ago`",computed:!1},description:"Sets the `year ago` label text",type:{name:"func"},required:!1},yearsAgoText:{defaultValue:{value:"(value) => `${value} years ago`",computed:!1},description:"Sets the `years ago` label text",type:{name:"func"},required:!1},yesterdayAtText:{defaultValue:{value:"(value) => `Yesterday at ${value}`",computed:!1},description:"Sets the `Yesterday at` label text",type:{name:"func"},required:!1},yesterdayLabel:{defaultValue:{value:"'Yesterday'",computed:!1},description:"Sets the yesterday label text",type:{name:"string"},required:!1},className:{description:"Provide an optional class to be applied to the containing node.",type:{name:"string"},required:!1},data:{description:"Array of data for Notifications component to render",type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"union",value:[{name:"string"},{name:"number"}],required:!1},type:{name:"enum",value:[{value:"'error'",computed:!1},{value:"'warning'",computed:!1},{value:"'success'",computed:!1},{value:"'informational'",computed:!1}],required:!1},timestamp:{name:"instanceOf",value:"Date",required:!1},title:{name:"string",required:!1},description:{name:"string",required:!1},link:{name:"shape",value:{url:{name:"string",required:!1},text:{name:"string",required:!1}},required:!1},unread:{name:"bool",required:!1},onNotificationClick:{name:"func",required:!1}}}},required:!0},doNotDisturbDefaultToggled:{description:"Optional: Determines if the `Do not disturb` toggle is on or off when the component is rendered",type:{name:"bool"},required:!1},onClickOutside:{description:"Sets the notifications panel open state",type:{name:"func"},required:!0},onDoNotDisturbChange:{description:"Optional: function that returns the current selected value of the disable notification toggle",type:{name:"func"},required:!1},onSettingsClick:{description:"Event handler for the View all button",type:{name:"func"},required:!1},onViewAllClick:{description:"Event handler for the View all button",type:{name:"func"},required:!1},open:{description:"Determines whether the notifications panel should render or not",type:{name:"bool"},required:!0}}};var currentDate=new Date,yesterdayDate=new Date;yesterdayDate.setDate(yesterdayDate.getDate()-1);var dayBeforeYesterday=new Date;dayBeforeYesterday.setDate(dayBeforeYesterday.getDate()-2);const NotificationsPanel_data=[{id:(0,uuidv4.Z)(),type:"error",title:"LogRhythm connection failure",description:"LogRhythm is failing to connect, check timeout.",timestamp:currentDate,unread:!0,onNotificationClick:(0,dist.aD)("Clicked on notification")},{id:(0,uuidv4.Z)(),type:"error",title:"LogDNA cannot be reached.",description:"Unable to communicate with LogDNA.",timestamp:new Date((new Date).getTime()-3e4),unread:!0,onNotificationClick:(0,dist.aD)("Clicked on notification")},{id:(0,uuidv4.Z)(),type:"warning",title:"System alert",description:"Email classification was exported successfully.",timestamp:new Date(currentDate.getTime()-66e4),onNotificationClick:(0,dist.aD)("Clicked on notification")},{id:(0,uuidv4.Z)(),type:"success",title:"IBM Cloud Pak for Automation Success",description:"Successfully connected cartridge",timestamp:new Date(currentDate.getTime()-72e5),onNotificationClick:(0,dist.aD)("Clicked on notification")},{id:(0,uuidv4.Z)(),type:"success",title:"Successfully connected LogDNA",description:"App connection succeeded",timestamp:yesterdayDate,onNotificationClick:(0,dist.aD)("Clicked on notification")},{id:(0,uuidv4.Z)(),type:"warning",title:"Cloud Foundry app memory",description:"Allocated app memory low",timestamp:dayBeforeYesterday,onNotificationClick:(0,dist.aD)("Clicked on notification")},{id:(0,uuidv4.Z)(),type:"informational",title:"Logs are now being monitored",link:{text:"View logs",url:"https://www.carbondesignsystem.com"},timestamp:dayBeforeYesterday,onNotificationClick:(0,dist.aD)("Clicked on notification")},{id:(0,uuidv4.Z)(),type:"error",title:"Cluster unreachable",description:"Not able to establish connection with provided cluster. Please check your logs and memory allocation to resolve this issue further.",timestamp:dayBeforeYesterday,onNotificationClick:(0,dist.aD)("Clicked on notification")},{id:(0,uuidv4.Z)(),type:"error",title:"Cluster unreachable",description:"Not able to establish connection with provided cluster. Please check your logs and memory allocation to resolve this issue further.",timestamp:dayBeforeYesterday,onNotificationClick:(0,dist.aD)("Clicked on notification")},{id:(0,uuidv4.Z)(),type:"error",title:"Cluster unreachable",description:"Not able to establish connection with provided cluster. Please check your logs and memory allocation to resolve this issue further.",timestamp:dayBeforeYesterday,onNotificationClick:(0,dist.aD)("Clicked on notification")},{id:(0,uuidv4.Z)(),type:"error",title:"Cluster unreachable",description:"Not able to establish connection with provided cluster. Please check your logs and memory allocation to resolve this issue further.",timestamp:dayBeforeYesterday,onNotificationClick:(0,dist.aD)("Clicked on notification")},{id:(0,uuidv4.Z)(),type:"error",title:"Cluster unreachable",description:"Not able to establish connection with provided cluster. Please check your logs and memory allocation to resolve this issue further.",timestamp:dayBeforeYesterday,onNotificationClick:(0,dist.aD)("Clicked on notification")},{id:(0,uuidv4.Z)(),type:"error",title:"Cluster unreachable",description:"Not able to establish connection with provided cluster. Please check your logs and memory allocation to resolve this issue further.",timestamp:dayBeforeYesterday,onNotificationClick:(0,dist.aD)("Clicked on notification")},{id:(0,uuidv4.Z)(),type:"error",title:"Cluster unreachable",description:"Not able to establish connection with provided cluster. Please check your logs and memory allocation to resolve this issue further.",timestamp:dayBeforeYesterday,onNotificationClick:(0,dist.aD)("Clicked on notification")},{id:(0,uuidv4.Z)(),type:"error",title:"Cluster unreachable",description:"Not able to establish connection with provided cluster. Please check your logs and memory allocation to resolve this issue further.",timestamp:dayBeforeYesterday,onNotificationClick:(0,dist.aD)("Clicked on notification")},{id:(0,uuidv4.Z)(),type:"error",title:"Cluster unreachable",description:"Not able to establish connection with provided cluster. Please check your logs and memory allocation to resolve this issue further.",timestamp:dayBeforeYesterday,onNotificationClick:(0,dist.aD)("Clicked on notification")}];var _HeaderName,_UnreadNotificationBe,_Notification,_HeaderGlobalAction;function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return NotificationsPanel_stories_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||NotificationsPanel_stories_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NotificationsPanel_stories_slicedToArray(arr,i){return function NotificationsPanel_stories_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function NotificationsPanel_stories_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||NotificationsPanel_stories_unsupportedIterableToArray(arr,i)||function NotificationsPanel_stories_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NotificationsPanel_stories_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return NotificationsPanel_stories_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?NotificationsPanel_stories_arrayLikeToArray(o,minLen):void 0}}function NotificationsPanel_stories_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var storyBlockClass="".concat(settings.K.prefix,"--notifications-panel__story");const NotificationsPanel_stories={title:"IBM Products/Patterns/Notifications/NotificationsPanel",component:NotificationsPanel,tags:["autodocs"],parameters:{storySource:{source:'var _HeaderName, _UnreadNotificationBe, _Notification, _HeaderGlobalAction;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n/**\n * Copyright IBM Corp. 2020, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { useEffect, useState } from \'react\';\nimport { action } from \'@storybook/addon-actions\';\nimport { Button, Header, HeaderContainer, HeaderName, HeaderGlobalBar, HeaderGlobalAction } from \'@carbon/react\';\nimport { User, Notification } from \'@carbon/react/icons\';\nimport styles from \'./_storybook-styles.scss\';\nimport uuidv4 from \'../../global/js/utils/uuidv4\';\nimport { UnreadNotificationBell } from \'./preview-components/UnreadNotificationBell\';\nimport { pkg } from \'../../settings\';\nimport { NotificationsPanel } from \'.\';\n\n// import mdx from \'./NotificationsPanel.mdx\';\nimport data from \'./NotificationsPanel_data\';\nvar storyBlockClass = "".concat(pkg.prefix, "--notifications-panel__story");\nexport default {\n  title: \'IBM Products/Patterns/Notifications/NotificationsPanel\',\n  component: NotificationsPanel,\n  tags: [\'autodocs\'],\n  parameters: {\n    styles: styles,\n    layout: \'fullscreen\'\n    /*\n    docs: {\n      page: mdx,\n    },\n    */\n  }\n};\nvar renderUIShellHeader = function renderUIShellHeader(open, setOpen, hasUnreadNotifications) {\n  return /*#__PURE__*/React.createElement(HeaderContainer, {\n    render: function render() {\n      return /*#__PURE__*/React.createElement(Header, {\n        "aria-label": "IBM Cloud Pak",\n        className: "".concat(storyBlockClass, "--header")\n      }, _HeaderName || (_HeaderName = /*#__PURE__*/React.createElement(HeaderName, {\n        href: "/",\n        prefix: "IBM"\n      }, "Cloud Pak")), /*#__PURE__*/React.createElement(HeaderGlobalBar, {\n        style: {\n          zIndex: 2\n        }\n      }, /*#__PURE__*/React.createElement(HeaderGlobalAction, {\n        "aria-label": "Notifications",\n        onClick: function onClick() {\n          return setOpen(!open);\n        }\n      }, hasUnreadNotifications ? _UnreadNotificationBe || (_UnreadNotificationBe = /*#__PURE__*/React.createElement(UnreadNotificationBell, null)) : _Notification || (_Notification = /*#__PURE__*/React.createElement(Notification, {\n        size: 20\n      }))), _HeaderGlobalAction || (_HeaderGlobalAction = /*#__PURE__*/React.createElement(HeaderGlobalAction, {\n        "aria-label": "App switcher"\n      }, /*#__PURE__*/React.createElement(User, {\n        size: 20\n      })))));\n    }\n  });\n};\nvar Template = function Template(args) {\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    open = _useState2[0],\n    setOpen = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    hasUnreadNotifications = _useState4[0],\n    setHasUnreadNotifications = _useState4[1];\n  var _useState5 = useState(data),\n    _useState6 = _slicedToArray(_useState5, 2),\n    notificationsData = _useState6[0],\n    setNotificationsData = _useState6[1];\n  var addNewNotification = function addNewNotification() {\n    var newNotification = {\n      id: uuidv4(),\n      type: \'success\',\n      title: \'Deployed app successfully\',\n      description: \'Application has been deployed.\',\n      timestamp: new Date(),\n      unread: true,\n      onNotificationClick: action("Clicked on notification")\n    };\n    setNotificationsData(function (arr) {\n      return [].concat(_toConsumableArray(arr), [newNotification]);\n    });\n  };\n\n  // logic for unread bell indicator\n  useEffect(function () {\n    var unreadTimer;\n    if (open && hasUnreadNotifications) {\n      var tempData = _toConsumableArray(notificationsData);\n      tempData.forEach(function (element) {\n        element.unread = false;\n      });\n      unreadTimer = setTimeout(function () {\n        setHasUnreadNotifications(false);\n        setNotificationsData(tempData);\n      }, 2000);\n    }\n    if (!open && !hasUnreadNotifications) {\n      var hasUnreadNotificationsCheck;\n      for (var i = 0; i < notificationsData.length; i++) {\n        if (notificationsData[i].unread === true) {\n          hasUnreadNotificationsCheck = true;\n          break;\n        } else {\n          hasUnreadNotificationsCheck = false;\n        }\n      }\n      setHasUnreadNotifications(hasUnreadNotificationsCheck);\n    }\n    return function () {\n      return clearTimeout(unreadTimer);\n    };\n  }, [open, notificationsData, hasUnreadNotifications]);\n  return /*#__PURE__*/React.createElement("div", {\n    className: "".concat(storyBlockClass, "--full-height")\n  }, renderUIShellHeader(open, setOpen, hasUnreadNotifications), /*#__PURE__*/React.createElement("div", {\n    className: "".concat(storyBlockClass, "__add")\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: addNewNotification\n  }, "Add new notification")), /*#__PURE__*/React.createElement(NotificationsPanel, _extends({}, args, {\n    data: notificationsData,\n    open: open,\n    onClickOutside: function onClickOutside() {\n      return setOpen(false);\n    },\n    onDismissAllNotifications: function onDismissAllNotifications() {\n      return setNotificationsData([]);\n    },\n    onDismissSingleNotification: function onDismissSingleNotification(_ref) {\n      var id = _ref.id;\n      var tempData = _toConsumableArray(notificationsData);\n      tempData = tempData.filter(function (item) {\n        return item.id !== id;\n      });\n      setNotificationsData(tempData);\n    }\n  })));\n};\nvar EmptyNotifications = function EmptyNotifications(args) {\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    open = _useState8[0],\n    setOpen = _useState8[1];\n  return /*#__PURE__*/React.createElement(React.Fragment, null, renderUIShellHeader(open, setOpen), /*#__PURE__*/React.createElement(NotificationsPanel, _extends({}, args, {\n    open: open,\n    onClickOutside: function onClickOutside() {\n      return setOpen(false);\n    },\n    doNotDisturbDefaultToggled: true\n  })));\n};\nexport var Default = Template.bind({});\nDefault.args = {\n  onDoNotDisturbChange: action(\'Toggled to do not disturb\'),\n  onViewAllClick: action(\'Clicked view all button\'),\n  onSettingsClick: action(\'Clicked settings gear\')\n};\nexport var EmptyState = EmptyNotifications.bind({});\nEmptyState.args = {\n  data: [],\n  onDoNotDisturbChange: action(\'Toggled to do not disturb\'),\n  onViewAllClick: action(\'Clicked view all button\'),\n  onSettingsClick: action(\'Clicked settings gear\')\n};',locationsMap:{default:{startLoc:{col:15,line:75},endLoc:{col:1,line:156},startBody:{col:15,line:75},endBody:{col:1,line:156}},"empty-state":{startLoc:{col:25,line:157},endLoc:{col:1,line:169},startBody:{col:25,line:157},endBody:{col:1,line:169}}}},styles:NotificationsPanel_storybook_styles,layout:"fullscreen"}};var renderUIShellHeader=function renderUIShellHeader(open,setOpen,hasUnreadNotifications){return react.createElement(es.gMZ,{render:function render(){return react.createElement(es.h4i,{"aria-label":"IBM Cloud Pak",className:"".concat(storyBlockClass,"--header")},_HeaderName||(_HeaderName=react.createElement(es.nho,{href:"/",prefix:"IBM"},"Cloud Pak")),react.createElement(es.sLE,{style:{zIndex:2}},react.createElement(es.JMr,{"aria-label":"Notifications",onClick:function onClick(){return setOpen(!open)}},hasUnreadNotifications?_UnreadNotificationBe||(_UnreadNotificationBe=react.createElement(UnreadNotificationBell,null)):_Notification||(_Notification=react.createElement(bucket_11.P_,{size:20}))),_HeaderGlobalAction||(_HeaderGlobalAction=react.createElement(es.JMr,{"aria-label":"App switcher"},react.createElement(bucket_16.n5,{size:20})))))}})},Default=function Template(args){var _useState2=NotificationsPanel_stories_slicedToArray((0,react.useState)(!1),2),open=_useState2[0],setOpen=_useState2[1],_useState4=NotificationsPanel_stories_slicedToArray((0,react.useState)(!1),2),hasUnreadNotifications=_useState4[0],setHasUnreadNotifications=_useState4[1],_useState6=NotificationsPanel_stories_slicedToArray((0,react.useState)(NotificationsPanel_data),2),notificationsData=_useState6[0],setNotificationsData=_useState6[1];return(0,react.useEffect)((function(){var unreadTimer;if(open&&hasUnreadNotifications){var tempData=_toConsumableArray(notificationsData);tempData.forEach((function(element){element.unread=!1})),unreadTimer=setTimeout((function(){setHasUnreadNotifications(!1),setNotificationsData(tempData)}),2e3)}if(!open&&!hasUnreadNotifications){for(var hasUnreadNotificationsCheck,i=0;i<notificationsData.length;i++){if(!0===notificationsData[i].unread){hasUnreadNotificationsCheck=!0;break}hasUnreadNotificationsCheck=!1}setHasUnreadNotifications(hasUnreadNotificationsCheck)}return function(){return clearTimeout(unreadTimer)}}),[open,notificationsData,hasUnreadNotifications]),react.createElement("div",{className:"".concat(storyBlockClass,"--full-height")},renderUIShellHeader(open,setOpen,hasUnreadNotifications),react.createElement("div",{className:"".concat(storyBlockClass,"__add")},react.createElement(es.zxk,{onClick:function addNewNotification(){var newNotification={id:(0,uuidv4.Z)(),type:"success",title:"Deployed app successfully",description:"Application has been deployed.",timestamp:new Date,unread:!0,onNotificationClick:(0,dist.aD)("Clicked on notification")};setNotificationsData((function(arr){return[].concat(_toConsumableArray(arr),[newNotification])}))}},"Add new notification")),react.createElement(NotificationsPanel,_extends({},args,{data:notificationsData,open,onClickOutside:function onClickOutside(){return setOpen(!1)},onDismissAllNotifications:function onDismissAllNotifications(){return setNotificationsData([])},onDismissSingleNotification:function onDismissSingleNotification(_ref){var id=_ref.id,tempData=_toConsumableArray(notificationsData);tempData=tempData.filter((function(item){return item.id!==id})),setNotificationsData(tempData)}})))}.bind({});Default.args={onDoNotDisturbChange:(0,dist.aD)("Toggled to do not disturb"),onViewAllClick:(0,dist.aD)("Clicked view all button"),onSettingsClick:(0,dist.aD)("Clicked settings gear")};var EmptyState=function EmptyNotifications(args){var _useState8=NotificationsPanel_stories_slicedToArray((0,react.useState)(!1),2),open=_useState8[0],setOpen=_useState8[1];return react.createElement(react.Fragment,null,renderUIShellHeader(open,setOpen),react.createElement(NotificationsPanel,_extends({},args,{open,onClickOutside:function onClickOutside(){return setOpen(!1)},doNotDisturbDefaultToggled:!0})))}.bind({});EmptyState.args={data:[],onDoNotDisturbChange:(0,dist.aD)("Toggled to do not disturb"),onViewAllClick:(0,dist.aD)("Clicked view all button"),onSettingsClick:(0,dist.aD)("Clicked settings gear")},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => {\n  const [open, setOpen] = useState(false);\n  const [hasUnreadNotifications, setHasUnreadNotifications] = useState(false);\n  const [notificationsData, setNotificationsData] = useState(data);\n  const addNewNotification = () => {\n    const newNotification = {\n      id: uuidv4(),\n      type: 'success',\n      title: 'Deployed app successfully',\n      description: 'Application has been deployed.',\n      timestamp: new Date(),\n      unread: true,\n      onNotificationClick: action(`Clicked on notification`)\n    };\n    setNotificationsData(arr => [...arr, newNotification]);\n  };\n\n  // logic for unread bell indicator\n  useEffect(() => {\n    let unreadTimer;\n    if (open && hasUnreadNotifications) {\n      const tempData = [...notificationsData];\n      tempData.forEach(element => {\n        element.unread = false;\n      });\n      unreadTimer = setTimeout(() => {\n        setHasUnreadNotifications(false);\n        setNotificationsData(tempData);\n      }, 2000);\n    }\n    if (!open && !hasUnreadNotifications) {\n      let hasUnreadNotificationsCheck;\n      for (let i = 0; i < notificationsData.length; i++) {\n        if (notificationsData[i].unread === true) {\n          hasUnreadNotificationsCheck = true;\n          break;\n        } else {\n          hasUnreadNotificationsCheck = false;\n        }\n      }\n      setHasUnreadNotifications(hasUnreadNotificationsCheck);\n    }\n    return () => clearTimeout(unreadTimer);\n  }, [open, notificationsData, hasUnreadNotifications]);\n  return <div className={`${storyBlockClass}--full-height`}>\n      {renderUIShellHeader(open, setOpen, hasUnreadNotifications)}\n      <div className={`${storyBlockClass}__add`}>\n        <Button onClick={addNewNotification}>Add new notification</Button>\n      </div>\n      <NotificationsPanel {...args} data={notificationsData} open={open} onClickOutside={() => setOpen(false)} onDismissAllNotifications={() => setNotificationsData([])} onDismissSingleNotification={({\n      id\n    }) => {\n      let tempData = [...notificationsData];\n      tempData = tempData.filter(item => item.id !== id);\n      setNotificationsData(tempData);\n    }} />\n    </div>;\n}",...Default.parameters?.docs?.source}}},EmptyState.parameters={...EmptyState.parameters,docs:{...EmptyState.parameters?.docs,source:{originalSource:"args => {\n  const [open, setOpen] = useState(false);\n  return <>\n      {renderUIShellHeader(open, setOpen)}\n      <NotificationsPanel {...args} open={open} onClickOutside={() => setOpen(false)} doNotDisturbDefaultToggled />\n    </>;\n}",...EmptyState.parameters?.docs?.source}}};const __namedExportsOrder=["Default","EmptyState"]},"../ibm-products/src/global/js/hooks/useClickOutside.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>useClickOutside});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),useClickOutside=function useClickOutside(ref,callback){(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var handleClick=function handleClick(event){ref.current&&!ref.current.contains(event.target)&&callback(event.target)};return document.addEventListener("click",handleClick),function(){document.removeEventListener("click",handleClick)}}),[callback,ref])}},"../ibm-products/src/global/js/hooks/usePreviousValue.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{z:()=>usePreviousValue});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),usePreviousValue=function usePreviousValue(value){var ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){ref.current=value})),ref.current}},"../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[17].use[2]!../ibm-products/src/components/NotificationsPanel/_storybook-styles.scss":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".c4p--notifications-panel__story--full-height{height:100vh;max-height:var(--doc-story-height)}.c4p--notifications-panel__story__add{display:flex;height:100%;align-items:center;justify-content:center}","",{version:3,sources:["webpack://./../ibm-products/src/components/NotificationsPanel/_storybook-styles.scss"],names:[],mappings:"AAYA,8CACE,YAAA,CACA,kCAAA,CAGF,sCACE,YAAA,CACA,WAAA,CACA,kBAAA,CACA,sBAAA",sourcesContent:["//\n// Copyright IBM Corp. 2020, 2020\n//\n// This source code is licensed under the Apache-2.0 license found in the\n// LICENSE file in the root directory of this source tree.\n//\n@use '@carbon/styles/scss/theme' as *;\n@use '@carbon/styles/scss/themes';\n@use 'ALIAS_STORY_STYLE_CONFIG' as c4p-settings;\n\n$storybook-block-class: #{c4p-settings.$pkg-prefix}--notifications-panel__story;\n\n.#{$storybook-block-class}--full-height {\n  height: 100vh;\n  max-height: var(--doc-story-height); // set in core if needed;\n}\n\n.#{$storybook-block-class}__add {\n  display: flex;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n}\n"],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___}}]);