import{p as O,j as n,I as S}from"./settings-CRrTVbgr.js";import{R as E,r as B}from"./index-CTjT7uj6.js";import{u as T,_ as W,c as g}from"./deprecate-BLSDO8J_.js";import{P as z}from"./index-BRV0Se7Z.js";import{O as F,a as q}from"./index-D3kbHbBV.js";import{p as G}from"./props-helper-CMbLuKX0.js";const N=o=>{let{className:b,...k}=o;const c=T();return E.createElement("div",W({className:g(`${c}--icon--skeleton`,b)},k))};N.propTypes={className:z.string};const t=`${O.prefix}--datagrid`,X=o=>{const b=c=>{const{rowActions:e,isFetching:l,state:{selectedRowIds:a}}=c,r=i=>!!Object.keys(a).map(I=>Number(I)).includes(i);if(e&&Array.isArray(e)){const i=(d,I)=>{const{cell:P}=I,{row:s,column:j}=P;if(j.isAction){const f=!!j.sticky;return[d,{children:n.jsxs("div",{className:`${t}__actions-column-contents`,children:[l&&n.jsx(N,{className:`${t}__actions-column-loading`}),!l&&e.length<=2&&!f&&n.jsx("div",{className:`${t}_actions-column`,style:{display:"flex"},children:e.map((u,h)=>{const w=G(u,["isDelete"]),{align:y,id:x,itemText:m,onClick:A,icon:$,shouldHideMenuItem:_,shouldDisableMenuItem:p,disabled:R,...v}=w,M=typeof _=="function"&&_(s),D=typeof p=="function"?p(s):R;if(M)return null;const H=$;return n.jsx("div",{className:g(`${t}__actions-column-button`,{[`${t}__disabled-row-action-button`]:r(s.index)}),children:n.jsx(S,{...v,align:y||"top",label:m,kind:"ghost",name:m,className:g({[`${t}__disabled-row-action`]:r(s.index)}),onClick:C=>{r(s.index)||(C.stopPropagation(),A(x,s,C))},disabled:D,children:n.jsx(H,{})})},`${m}__${h}`)})}),!l&&(e.length>2||f)&&n.jsx("div",{children:n.jsx(F,{align:"left",size:"sm",flipped:!0,onClick:u=>{u.stopPropagation()},children:e.map(u=>{const{id:h,onClick:w,shouldHideMenuItem:y,shouldDisableMenuItem:x,disabled:m,...A}=u,$=typeof y=="function"&&y(s),_=typeof x=="function"?x(s):m;return $?null:B.createElement(q,{...A,disabled:_,onClick:p=>{p.stopPropagation(),w(h,s,p)},key:h})})})})]}),className:g({[`${t}__actions-column-cell`]:!0,[`${t}__cell`]:!0,[`${t}__actions-column-cell-non-sticky`]:!f}),style:{width:e.length>2||f?48:96}}]}return[d]};o.getCellProps.push(i)}},k=c=>{const{rowActions:e}=c;if(e&&Array.isArray(e)){const l=(a,r)=>{const{column:i}=r;if(i.isAction){const d=!!i.sticky;return[a,{style:{...a.style,width:e.length>2||d?48:96}}]}return[a]};o.getHeaderProps.push(l)}};o.useInstance.push(k),o.useInstance.push(b)};export{X as u};
