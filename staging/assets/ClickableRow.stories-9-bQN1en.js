import{p as k,c as D,j as t}from"./settings-CRrTVbgr.js";import{R,r as C}from"./index-CTjT7uj6.js";import{a as d}from"./chunk-MZXVCX43-CM0pFb8Z.js";import{D as y,a as q,m as N,u as z}from"./_storybook-styles-i3iCgewe.js";import{D as E}from"./DatagridActions-hsLtu9vl.js";import{D as K}from"./DatagridPagination-cJgZF2xk.js";import{A as f}from"./getArgTypes-CUsKgYxs.js";import{c as W}from"./deprecate-BLSDO8J_.js";import{L as B}from"./Link-B87RWa8F.js";import{S as Y}from"./StoryDocsPage-Bt8tN_UY.js";import{u as J}from"./useColumnCenterAlign-B6xTWlbO.js";import{u as Q}from"./useSelectRows-BL8RvDfN.js";import{S as U}from"./SidePanel-CDUDdZqp.js";import{a as X}from"./bucket-5--iEWWNCt.js";import{T as Z}from"./bucket-16-C5jbOqAN.js";import{A as h}from"./bucket-0-oY2tyfOj.js";import"./index-BU4hwJwl.js";import"./index-BRV0Se7Z.js";import"./events-D0gen66i.js";import"./index-DN5spsdJ.js";import"./v4-CQkTLCs1.js";import"./devtools-BECPDnEK.js";import"./TableRow-CfUWZmJ6.js";import"./wrapComponent-DuUaIn3s.js";import"./TableToolbar-issDisOB.js";import"./Text-CJa2B8Yb.js";import"./ErrorEmptyState-JVdmBFpY.js";import"./EmptyState-ziZ15FsL.js";import"./props-helper-CMbLuKX0.js";import"./EmptyStateV2-D0xS4Aff.js";import"./iframe-DBTVSOxk.js";import"../sb-preview/runtime.js";import"./ErrorIllustration-BJJAi4cB.js";import"./uuidv4-BQrI85uz.js";import"./NoDataEmptyState-6owofLdA.js";import"./NoDataIllustration-Cbu5equv.js";import"./NotFoundEmptyState-BBqq9YRC.js";import"./NotFoundIllustration-CUxt5hHs.js";import"./useMultipleKeyTracking-CH9TKWYU.js";import"./extends-CCbyfPlC.js";import"./inheritsLoose-SLCf_n8R.js";import"./usePreviousValue-BqVTtLed.js";import"./useResizeObserver-BvbgZjpI.js";import"./index-fsmjFOXH.js";import"./useControllableState-B1slDU0H.js";import"./useAttachedMenu-TY58osux.js";import"./bucket-1-D9I7e5DL.js";import"./getFocusableElements-BW7cf991.js";import"./index-CJaoAHRt.js";import"./index-DshjxXYm.js";import"./useClickOutside-BabGwu55.js";import"./AccordionItem-C4NI2xLC.js";import"./Search-DsgRvTuS.js";import"./FormContext-D0sdIVRD.js";import"./bucket-13-DW3ggDVU.js";import"./index-JTvCgqhd.js";import"./LayerContext-BJwyboGm.js";import"./motionConstants-C62tzl7F.js";import"./tslib.es6-CI8bilKU.js";import"./index-DkUr2NOz.js";import"./ActionSet-B7TUuTqf.js";import"./ButtonSet-CltDhnub.js";import"./InlineLoading-BAXzw7Vs.js";import"./Checkbox-BIXmEu_U.js";import"./bucket-17-DCCQrBLC.js";import"./DatePicker-DKaYnu5B.js";import"./Dropdown-ClvEqLzO.js";import"./index-Dgpqnxx_.js";import"./index-DcAOwtUU.js";import"./mergeRefs-CTUecegF.js";import"./FormGroup-jYEYux68.js";import"./NumberInput-BAY_6XtC.js";import"./useNormalizedInputProps-DXf7f817.js";import"./bucket-14-CVMjmpSy.js";import"./RadioButton-e3vkHDFl.js";import"./RadioButtonGroup-5O28pTwM.js";import"./MultiSelect-BUG_YuIi.js";import"./index-CVMazV68.js";import"./toString-Cu7nsjnZ.js";import"./isSymbol-D87B3_a6.js";import"./FilterSummary-_0Q1hst9.js";import"./debounce-BaS29eSe.js";import"./toNumber-CpuPfuLu.js";import"./useWindowResize-CQvE3W8T.js";import"./TagSet-thr0-q_Q.js";import"./Tag-BhXbbo73.js";import"./ComposedModal-uB4X-JZy.js";import"./requiredIfGivenPropIsTruthy-CU7JwK8h.js";import"./wrapFocus-ldDxJswA.js";import"./index-DASh2Ycj.js";import"./usePortalTarget-BYb2WbwP.js";import"./SkeletonText-Rz2pBgBx.js";import"./getNodeTextContent-C8IeKkUQ.js";import"./index-75KDai46.js";import"./bucket-6-ckIbrPfr.js";import"./index-D3kbHbBV.js";import"./bucket-11-DVAi0r8D.js";import"./createClassWrapper-CcV1pVUD.js";import"./TableToolbarSearch-DCJBnmH2.js";import"./bucket-12-B9dKP5Fb.js";import"./Select-0ed2M-1J.js";import"./SelectItem-BiVyLHyp.js";import"./index-D2xy4Ma0.js";import"./index-C2eUe6cH.js";import"./index-D4-blIwu.js";import"./index-DrFu-skq.js";import"./story-helper-B-B3tTUV.js";import"./TableSelectRow-Ci3FKCGw.js";import"./useFocus-B-csjnZ_.js";const ee=e=>{const o=i=>{const{onRowClick:a}=i,r=(s,n)=>{const{isFetching:c,row:l,instance:m}=n,{id:S,toggleRowSelected:F}=l,{withSelectRows:M,tableId:V}=m,_=w=>{if(!c&&a){a(l,w);const b=document.querySelectorAll(`#${V}.${k.prefix}--datagrid .${D.prefix}--data-table--selected:not(.${k.prefix}--datagrid__active-row)`);b.length&&Array.from(b).forEach(x=>{x.classList.remove(`${D.prefix}--data-table--selected`)}),w.currentTarget.closest("tr").classList.add(`${D.prefix}--data-table--selected`),M||(m.selectedFlatRows&&m.selectedFlatRows.map(x=>x.toggleRowSelected(!1)),F(S,!0))}};return[s,{onClick:_,onKeyDown:w=>{const{key:b}=w;b==="Enter"&&_(w)}},{tabIndex:0,style:{cursor:"pointer"}}]};e.getRowProps.push(r)};e.useInstance.push(o)},j=`${k.prefix}--datagrid`,G=e=>{const o=(r,s)=>t.jsx("div",{className:W(`${j}__right-align-cell-renderer`,{sortDisabled:!r.isTableSortable||r.column.disableSortBy===!0}),children:s.Cell(r)}),i=(r,s)=>t.jsx("div",{className:`${j}__right-align-header`,children:typeof s.Header=="function"?s.Header(r):s.Header}),a=r=>[...r.map(n=>({...n,Cell:n.rightAlignedColumn?c=>o(c,n):n.Cell,Header:n.rightAlignedColumn?c=>i(c,n):n.Header}))];e.visibleColumns.push(a)},go={title:"IBM Products/Components/Datagrid/ClickableRow",component:y,tags:["autodocs"],parameters:{styles:q,docs:{page:()=>t.jsx(Y,{blocks:[{title:"Row click",description:"Datagrid supports adding a click event on an entire row with the use of the `useOnRowClick` hook.\n- Include the `useOnRowClick` hook\n- Add the `onRowClick` property, this is a callback function that will be called when a row is clicked. It will give back the row and the click event.\n          ",source:{code:`
const datagridState = useDatagrid(
  {
    columns,
    data,
    onRowClick: (row, event) => {
      ...
    },
  },
  useOnRowClick
);

return <Datagrid datagridState={datagridState} />;
            `}}]})},layout:"fullscreen"}},p=`${k.prefix}--datagrid`,te=`${k.prefix}--datagrid-story`,O=[{Header:"Row index",accessor:(e,o)=>o,sticky:"left",id:"rowIndex"},{Header:"First name",accessor:"firstName"},{Header:"Last name",accessor:"lastName"},{Header:"Doc link",accessor:"doc_link",Cell:({cell:e})=>{var o,i,a;return t.jsx(B,{className:`${te}__custom-cell-wrapper`,href:(o=e==null?void 0:e.value)==null?void 0:o.href,title:(i=e==null?void 0:e.value)==null?void 0:i.text,children:(a=e==null?void 0:e.value)==null?void 0:a.text})},width:200},{Header:"Age",accessor:"age",width:120,rightAlignedColumn:!0},{Header:"Visits",accessor:"visits",width:120,rightAlignedColumn:!0},{Header:"Bonus",accessor:"bonus",width:120,rightAlignedColumn:!0},{Header:"Someone 1",accessor:"someone1"},{Header:"Someone 2",accessor:"someone2"},{Header:"Someone 3",accessor:"someone3"},{Header:"Someone 4",accessor:"someone4"},{Header:"Someone 5",accessor:"someone5"},{Header:"Someone 6",accessor:"someone6"},{Header:"Someone 7",accessor:"someone7"},{Header:"Someone 8",accessor:"someone8"},{Header:"Someone 9",accessor:"someone9"},{Header:"Someone 10",accessor:"someone10"}],T={emptyStateTitle:"Empty state title",emptyStateDescription:"Description text explaining why table is empty",emptyStateSize:"lg",gridTitle:"Data table title",gridDescription:"Additional information if needed",useDenseHeader:!1,rowSize:"lg",rowSizes:[{value:"xl",labelText:"Extra large"},{value:"lg",labelText:"Large"},{value:"md",labelText:"Medium"},{value:"xs",labelText:"Small"}],onRowSizeChange:e=>{console.log("row size changed to: ",e)},rowActions:[{id:"edit",itemText:"Edit",icon:X,onClick:d("Clicked row action: edit")},{id:"delete",itemText:"Delete",icon:Z,isDelete:!0,onClick:d("Clicked row action: delete")}],expandedContentHeight:96},oe=()=>[{label:"Duplicate",renderIcon:e=>t.jsx(h,{size:16,...e}),onClick:d("Clicked batch action button")},{label:"Add",renderIcon:e=>t.jsx(h,{size:16,...e}),onClick:d("Clicked batch action button")},{label:"Publish to catalog",renderIcon:e=>t.jsx(h,{size:16,...e}),onClick:d("Clicked batch action button")},{label:"Download",renderIcon:e=>t.jsx(h,{size:16,...e}),onClick:d("Clicked batch action button")},{label:"Delete",renderIcon:e=>t.jsx(h,{size:16,...e}),onClick:d("Clicked batch action button"),hasDivider:!0,kind:"danger"}],re=({...e})=>{const o=R.useMemo(()=>[...O],[]),[i]=C.useState(N(10)),a=R.useMemo(()=>i,[i]),r=z({columns:o,data:a,initialState:{pageSize:10,pageSizes:[5,10,25,50]},DatagridActions:E,DatagridPagination:K,...e.defaultGridProps},J,G);return t.jsx(y,{datagridState:r})},ie=({...e})=>t.jsx(re,{defaultGridProps:{...e}}),L={gridTitle:T.gridTitle,gridDescription:T.gridDescription},ae="With clickable row item",u=ie.bind({});u.storyName=ae;u.argTypes={gridTitle:f.gridTitle,gridDescription:f.gridDescription};u.args={...L};const se=e=>{const{rowData:o}=e,i=({rowData:a,columns:r,sectionTitle:s})=>{const n=r.map(c=>Object.entries(a)[c]);return t.jsxs("div",{className:`${p}__side-panel-sections`,children:[t.jsx("h5",{className:`${p}__side-panel-section-header`,children:s}),n.map(([c,l],m)=>{const S=l instanceof Date?l.toString():l;return t.jsxs("div",{className:`${p}__side-panel-section-inner`,children:[t.jsxs("div",{className:`${p}__side-panel-label-text`,children:[c," :"]}),t.jsx("div",{className:`${p}__side-panel-value`,children:S})]},m)})]})};return t.jsxs("div",{className:`${p}__side-panel-content`,children:[t.jsx("div",{className:`${p}__side-panel-link`,children:t.jsx(B,{href:"",id:"side-panel-story__view-link",children:"View details"})}),t.jsx(i,{sectionTitle:"Section title",rowData:o&&o,columns:[0]}),t.jsx(i,{sectionTitle:"Personal details",rowData:o&&o,columns:[1,2,3,4]}),t.jsx(i,{sectionTitle:"Section title",rowData:o&&o,columns:[5,6,7,8,9,10,11,12]})]})},ne=({...e})=>{const o=R.useMemo(()=>[...O.filter(l=>l.accessor!=="doc_link")],[]),[i]=C.useState(N(10)),[a,r]=C.useState(!1),[s,n]=C.useState({}),c=z({columns:o,data:i,onRowClick:(l,m)=>{d()(m),r(!0),n(l)},DatagridActions:E,batchActions:!0,toolbarBatchActions:oe(),...e.defaultGridProps},Q,ee,G);return t.jsxs("div",{className:W(a?"page-content-wrapper side-panel-open":"page-content-wrapper"),children:[t.jsx(y,{datagridState:{...c}}),t.jsx(U,{id:"storybook-id",selectorPageContent:".page-content-wrapper",selectorPrimaryFocus:"#side-panel-story__view-link",open:a,onRequestClose:()=>r(!1),size:"sm",title:"Title",slideIn:!0,children:t.jsx(se,{rowData:s&&s.original})})]})},ce=({...e})=>t.jsx(ne,{defaultGridProps:{...e}}),le="Clickable row with side panel",g=ce.bind({});g.storyName=le;g.argTypes={gridTitle:f.gridTitle,gridDescription:f.gridDescription};g.args={...L};var H,A,v;u.parameters={...u.parameters,docs:{...(H=u.parameters)==null?void 0:H.docs,source:{originalSource:`({
  ...args
}) => {
  return <ClickableRow defaultGridProps={{
    ...args
  }} />;
}`,...(v=(A=u.parameters)==null?void 0:A.docs)==null?void 0:v.source}}};var P,$,I;g.parameters={...g.parameters,docs:{...(P=g.parameters)==null?void 0:P.docs,source:{originalSource:`({
  ...args
}) => {
  return <ClickableRowWithPanel defaultGridProps={{
    ...args
  }} />;
}`,...(I=($=g.parameters)==null?void 0:$.docs)==null?void 0:I.source}}};const wo=["ClickableRowItemStory","ClickableRowStory"];export{u as ClickableRowItemStory,g as ClickableRowStory,wo as __namedExportsOrder,go as default};
